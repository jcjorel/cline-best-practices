

--- SERVER START ATTEMPT AT 2025-04-21 10:17:09 ---

2025-04-21 10:17:09,580 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-21 10:17:09,580 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-21 10:17:09,580 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-21 10:17:09,581 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745223429.5809753
2025-04-21 10:17:09,581 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-21 10:17:09,581 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745223429.5812113
2025-04-21 10:17:09,581 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139705264600768, name=watchdog_monitor, is_daemon=True
2025-04-21 10:17:09,581 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-21 10:17:09,581 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-21 10:17:09,581 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-21 10:17:09,581 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-21 10:17:09,581 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/.vscode-server/extensions/ms-python.python-2025.4.0-linux-x64/python_files/deactivate/bash:/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/extensions/ms-python.python-2025.4.0-linux-x64/python_files/deactivate/bash:/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/snap/bin:/usr/local/bin:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-21 10:17:09,581 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-21 10:17:09,582 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-21 10:17:09,582 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-21 10:17:09,582 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-21 10:17:09,582 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-21 10:17:09,582 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-21 10:17:09,582 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-21 10:17:09,582 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-21 10:17:09,582 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-21 10:17:09,582 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-21 10:17:09,609 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-21 10:17:09,610 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-21 10:17:09,610 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['consistency_analysis', 'recommendation_generator']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-21 10:17:09,612 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['consistency_analysis', 'recommendation_generator']
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, change_queue, fs_monitor, filter, llm_coordinator, database, metadata_extraction, scheduler, doc_relationships, consistency_analysis, memory_cache, recommendation_generator, mcp_server
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,612 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-21 10:17:09,612 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,612 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,612 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-21 10:17:09,612 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-21 10:17:09,613 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-21 10:17:09,614 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-21 10:17:09,614 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-21 10:17:09,614 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-21 10:17:09,614 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor'...
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,614 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'fs_monitor'
2025-04-21 10:17:09,614 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Initializing component 'fs_monitor'...
2025-04-21 10:17:09,614 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Change queue component successfully initialized
2025-04-21 10:17:09,614 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Creating monitor for platform with project root: /home/jcjorel/cline-best-practices
2025-04-21 10:17:09,614 - dbp.fs_monitor.factory - INFO - Creating File System Monitor...
2025-04-21 10:17:09,614 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-21 10:17:09,659 - dbp.fs_monitor.filter - INFO - Found 2 .gitignore files.
2025-04-21 10:17:09,659 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 32 patterns.
2025-04-21 10:17:09,659 - dbp.fs_monitor.queue - INFO - Event filter set to: GitIgnoreFilter
2025-04-21 10:17:09,659 - dbp.fs_monitor.factory - INFO - Detected Operating System: Linux
2025-04-21 10:17:09,659 - dbp.fs_monitor.factory - INFO - Selected LinuxFileSystemMonitor (inotify).
2025-04-21 10:17:09,659 - dbp.fs_monitor.base - INFO - Starting LinuxFileSystemMonitor...
2025-04-21 10:17:09,660 - dbp.fs_monitor.linux - INFO - Linux file system monitor started successfully.
2025-04-21 10:17:09,660 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - File system monitoring started
2025-04-21 10:17:09,660 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Component 'fs_monitor' initialized successfully
2025-04-21 10:17:09,660 - dbp.core.lifecycle - INFO - Component 'fs_monitor' initialized successfully
2025-04-21 10:17:09,660 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-21 10:17:09,660 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,660 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,660 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-21 10:17:09,660 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-21 10:17:09,661 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-21 10:17:09,704 - dbp.fs_monitor.filter - INFO - Found 2 .gitignore files.
2025-04-21 10:17:09,705 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 40 patterns.
2025-04-21 10:17:09,705 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-21 10:17:09,705 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-21 10:17:09,705 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-21 10:17:09,705 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-21 10:17:09,705 - dbp.database - INFO - Initializing component 'database'...
2025-04-21 10:17:09,705 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-21 10:17:09,705 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-21 10:17:09,706 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-21 10:17:09,706 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-21 10:17:09,706 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-21 10:17:09,710 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-21 10:17:09,724 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-21 10:17:09,724 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-21 10:17:09,724 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-21 10:17:09,724 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-21 10:17:09,779 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-21 10:17:09,780 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-21 10:17:09,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-21 10:17:09,780 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00006s] ()
2025-04-21 10:17:09,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-21 10:17:09,780 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00005s] ()
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ()
2025-04-21 10:17:09,781 - dbp.database.alembic_manager - INFO - No alembic_version table found - this appears to be initial schema creation
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00005s] ()
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
2025-04-21 10:17:09,781 - dbp.database.alembic_manager - INFO - Existing tables before migration: []
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-21 10:17:09,781 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-21 10:17:09,781 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-21 10:17:09,781 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> 20250416_180000, Initial schema


--- SERVER START ATTEMPT AT 2025-04-25 08:50:39 ---

2025-04-25 08:50:40,330 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 08:50:40,330 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 08:50:40,331 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 08:50:40,331 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 08:50:40,331 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745563840.3314414
2025-04-25 08:50:40,331 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 08:50:40,332 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140497938482880, name=watchdog_monitor, is_daemon=True
2025-04-25 08:50:40,332 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745563840.332494
2025-04-25 08:50:40,332 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 08:50:40,332 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 08:50:40,333 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 08:50:40,333 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 08:50:40,333 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 08:50:40,333 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 08:50:40,333 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 08:50:40,334 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 08:50:40,334 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 08:50:40,334 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 08:50:40,334 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 08:50:40,334 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 08:50:40,334 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 08:50:40,334 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 08:50:40,334 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 08:50:40,334 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 08:50:40,334 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 08:50:40,334 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 08:50:40,334 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 08:50:40,334 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 08:50:40,335 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 08:50:40,345 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 08:50:40,388 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 08:50:40,389 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 08:50:40,389 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 08:50:40,389 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 08:50:40,392 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 08:50:40,392 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 08:50:40,392 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 08:50:40,392 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 08:50:40,392 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 08:50:40,396 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 08:50:40,397 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 08:50:40,397 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, change_queue, fs_monitor, mcp_server, llm_coordinator, database, memory_cache, filter, file_access, metadata_extraction, scheduler, doc_relationships, consistency_analysis, recommendation_generator
2025-04-25 08:50:40,398 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 08:50:40,398 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 08:50:40,398 - dbp.core.lifecycle - ERROR - Config manager error during initialization of 'config_manager': Component 'config_manager': Component not initialized
2025-04-25 08:50:40,398 - dbp.core.lifecycle - ERROR - No components to roll back
2025-04-25 08:50:40,398 - dbp.core.lifecycle - ERROR - Failed to initialize component 'config_manager': Component 'config_manager': Component not initialized
2025-04-25 08:50:40,399 - dbp.core.lifecycle - ERROR - Exception type: ComponentNotInitializedError
2025-04-25 08:50:40,399 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 08:50:40,399 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 302, in initialize_all
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR -       raise e
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 297, in initialize_all
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR -       raise ComponentNotInitializedError('config_manager')
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR -   dbp.core.exceptions.ComponentNotInitializedError: Component 'config_manager': Component not initialized
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR - Component 'config_manager' debug info: {'class_name': 'ConfigManagerComponent', 'module': 'dbp.config.component', 'initialized': False, 'has_logger': True}
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR - No components to roll back
2025-04-25 08:50:40,400 - dbp.core.lifecycle - ERROR - System startup failed due to component initialization errors.
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 08:50:40,400 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 08:52:04 ---

2025-04-25 08:52:05,248 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 08:52:05,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 08:52:05,249 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 08:52:05,249 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 08:52:05,249 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745563925.249078
2025-04-25 08:52:05,249 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 08:52:05,249 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139642157430464, name=watchdog_monitor, is_daemon=True
2025-04-25 08:52:05,249 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 08:52:05,250 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745563925.2502675
2025-04-25 08:52:05,250 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 08:52:05,251 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 2: Waiting for activity
2025-04-25 08:52:05,250 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 08:52:05,251 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 08:52:05,252 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 08:52:05,252 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 08:52:05,252 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 08:52:05,252 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 08:52:05,252 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 08:52:05,252 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 08:52:05,252 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 08:52:05,253 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 08:52:05,265 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 08:52:05,302 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 08:52:05,303 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 08:52:05,303 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 08:52:05,303 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 08:52:05,306 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 08:52:05,306 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 08:52:05,306 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 08:52:05,306 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 08:52:05,306 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 08:52:05,308 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 08:52:05,308 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, filter, database, memory_cache, metadata_extraction, doc_relationships, consistency_analysis, change_queue, fs_monitor, llm_coordinator, mcp_server, scheduler, recommendation_generator
2025-04-25 08:52:05,309 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 08:52:05,309 - dbp.core.lifecycle - ERROR - Config manager error during initialization of 'file_access': Component 'config_manager': Component not initialized
2025-04-25 08:52:05,309 - dbp.core.lifecycle - ERROR - No components to roll back
2025-04-25 08:52:05,309 - dbp.core.lifecycle - ERROR - Failed to initialize component 'file_access': Component 'config_manager': Component not initialized
2025-04-25 08:52:05,309 - dbp.core.lifecycle - ERROR - Exception type: ComponentNotInitializedError
2025-04-25 08:52:05,309 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 302, in initialize_all
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR -       raise e
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 297, in initialize_all
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR -       raise ComponentNotInitializedError('config_manager')
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR -   dbp.core.exceptions.ComponentNotInitializedError: Component 'config_manager': Component not initialized
2025-04-25 08:52:05,311 - dbp.core.lifecycle - ERROR - Component 'file_access' debug info: {'class_name': 'FileAccessComponent', 'module': 'dbp.core.file_access_component', 'initialized': False, 'has_logger': True}
2025-04-25 08:52:05,311 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Component 'config_manager': Component not initialized
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 302, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 297, in initialize_all
    raise ComponentNotInitializedError('config_manager')
dbp.core.exceptions.ComponentNotInitializedError: Component 'config_manager': Component not initialized

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 408, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 377, in initialize_all
    dep = self.get_component(dep_name)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 187, in get_component
    raise ComponentNotInitializedError(name)
dbp.core.exceptions.ComponentNotInitializedError: Component 'config_manager': Component not initialized
2025-04-25 08:52:05,313 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 08:52:05,314 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 08:52:05,315 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 08:52:05,315 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 08:52:05,315 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 08:52:05,315 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 08:52:05,315 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 08:52:05,315 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 09:02:01 ---

2025-04-25 09:02:03,734 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 09:02:03,734 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 09:02:03,735 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 09:02:03,735 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745564523.735008
2025-04-25 09:02:03,735 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 09:02:03,736 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745564523.7361264
2025-04-25 09:02:03,737 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140209838876352, name=watchdog_monitor, is_daemon=True
2025-04-25 09:02:03,738 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 09:02:03,738 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 09:02:03,739 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 09:02:03,740 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 09:02:03,741 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 09:02:03,742 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 09:02:03,742 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 09:02:03,742 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 09:02:03,742 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 09:02:03,742 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 09:02:03,742 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 09:02:03,742 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 09:02:03,742 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 09:02:03,743 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:02:03,759 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 09:02:03,807 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 09:02:03,809 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:02:03,809 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:02:03,810 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 09:02:03,815 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:02:03,815 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:02:03,815 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:02:03,815 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:02:03,815 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:02:03,821 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:02:03,822 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:02:03,822 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:02:03,822 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 09:02:03,822 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 09:02:03,822 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 09:02:03,822 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 09:02:03,822 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 09:02:03,823 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:02:03,823 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:02:03,823 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 09:02:03,823 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:02:03,824 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:02:03,824 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:02:03,824 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:02:03,824 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:02:03,824 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:02:03,825 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:02:03,825 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:02:03,825 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 09:02:03,825 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:02:03,826 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 09:02:03,827 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 09:02:03,827 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, filter, database, memory_cache, llm_coordinator, change_queue, fs_monitor, mcp_server, file_access, metadata_extraction, scheduler, doc_relationships, consistency_analysis, recommendation_generator
2025-04-25 09:02:03,827 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 09:02:03,827 - dbp.core.lifecycle - ERROR - Config manager error during initialization of 'config_manager': Component 'config_manager': Component not initialized
2025-04-25 09:02:03,827 - dbp.core.lifecycle - ERROR - No components to roll back
2025-04-25 09:02:03,827 - dbp.core.lifecycle - ERROR - Failed to initialize component 'config_manager': Component 'config_manager': Component not initialized
2025-04-25 09:02:03,827 - dbp.core.lifecycle - ERROR - Exception type: ComponentNotInitializedError
2025-04-25 09:02:03,834 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:02:03,837 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 09:02:03,837 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 303, in initialize_all
2025-04-25 09:02:03,837 - dbp.core.lifecycle - ERROR -       raise e
2025-04-25 09:02:03,838 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 298, in initialize_all
2025-04-25 09:02:03,838 - dbp.core.lifecycle - ERROR -       raise ComponentNotInitializedError('config_manager')
2025-04-25 09:02:03,838 - dbp.core.lifecycle - ERROR -   dbp.core.exceptions.ComponentNotInitializedError: Component 'config_manager': Component not initialized
2025-04-25 09:02:03,838 - dbp.core.lifecycle - ERROR - Component 'config_manager' debug info: {'class_name': 'ConfigManagerComponent', 'module': 'dbp.config.component', 'initialized': False, 'has_logger': True}
2025-04-25 09:02:03,838 - dbp.core.lifecycle - ERROR - No components to roll back
2025-04-25 09:02:03,839 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Component 'config_manager': Component not initialized
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 408, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 384, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 303, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 298, in initialize_all
    raise ComponentNotInitializedError('config_manager')
dbp.core.exceptions.ComponentNotInitializedError: Component 'config_manager': Component not initialized
2025-04-25 09:02:03,840 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 09:02:03,841 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 09:02:03,843 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 09:02:03,843 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 09:02:03,844 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 09:02:03,844 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 09:02:03,844 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 09:02:03,844 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 09:03:09 ---

2025-04-25 09:03:09,993 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 09:03:09,993 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 09:03:09,993 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 09:03:09,993 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 09:03:09,993 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 09:03:09,993 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 09:03:09,994 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 09:03:09,994 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 09:03:09,994 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 09:03:09,994 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 09:03:09,994 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 09:03:09,994 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 09:03:09,994 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745564589.9941683
2025-04-25 09:03:09,994 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 09:03:09,994 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140676598822592, name=watchdog_monitor, is_daemon=True
2025-04-25 09:03:09,994 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745564589.994844
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 09:03:09,995 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 09:03:09,995 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 09:03:09,996 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 09:03:09,996 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 09:03:09,996 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 09:03:09,996 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 09:03:09,996 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 09:03:09,996 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 09:03:09,996 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 09:03:09,996 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,002 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 09:03:10,030 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 09:03:10,031 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:03:10,032 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:03:10,032 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 09:03:10,035 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:03:10,035 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:03:10,036 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:03:10,036 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:03:10,036 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 09:03:10,039 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:03:10,039 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 09:03:10,040 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,040 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, change_queue, fs_monitor, filter, llm_coordinator, database, memory_cache, mcp_server, metadata_extraction, doc_relationships, consistency_analysis, scheduler, recommendation_generator
2025-04-25 09:03:10,041 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 09:03:10,041 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,041 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,041 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,041 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 09:03:10,042 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 09:03:10,042 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 09:03:10,042 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 09:03:10,042 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,042 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,042 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 09:03:10,042 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,044 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 09:03:10,045 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 09:03:10,045 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 09:03:10,045 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 09:03:10,045 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 09:03:10,045 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,045 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 09:03:10,046 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 09:03:10,046 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor'...
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,046 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'fs_monitor'
2025-04-25 09:03:10,046 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Initializing component 'fs_monitor'...
2025-04-25 09:03:10,047 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Change queue component successfully initialized
2025-04-25 09:03:10,047 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,047 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Creating monitor for platform with project root: /home/jcjorel/cline-best-practices
2025-04-25 09:03:10,047 - dbp.fs_monitor.factory - INFO - Creating File System Monitor...
2025-04-25 09:03:10,106 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 09:03:10,107 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 38 patterns.
2025-04-25 09:03:10,107 - dbp.fs_monitor.queue - INFO - Event filter set to: GitIgnoreFilter
2025-04-25 09:03:10,107 - dbp.fs_monitor.factory - INFO - Detected Operating System: Linux
2025-04-25 09:03:10,107 - dbp.fs_monitor.factory - INFO - Selected LinuxFileSystemMonitor (inotify).
2025-04-25 09:03:10,107 - dbp.fs_monitor.base - INFO - Starting LinuxFileSystemMonitor...
2025-04-25 09:03:10,107 - dbp.fs_monitor.linux - INFO - Linux file system monitor started successfully.
2025-04-25 09:03:10,107 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - File system monitoring started
2025-04-25 09:03:10,107 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 09:03:10,107 - dbp.core.lifecycle - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 09:03:10,107 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 09:03:10,107 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,107 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,107 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,108 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 09:03:10,108 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 09:03:10,162 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 09:03:10,163 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 09:03:10,163 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 09:03:10,163 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 09:03:10,163 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 09:03:10,163 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,163 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,163 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 09:03:10,163 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 09:03:10,163 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,163 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 09:03:10,164 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 09:03:10,164 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 09:03:10,164 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 09:03:10,164 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 09:03:10,164 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:03:10,164 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:03:10,164 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 09:03:10,164 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 09:03:10,164 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 09:03:10,164 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 09:03:10,164 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 09:03:10,165 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 09:03:10,170 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:03:10,170 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 09:03:10,171 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 09:03:10,171 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 09:03:10,171 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 09:03:10,171 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 09:03:10,244 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 09:03:10,245 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 09:03:10,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 09:03:10,246 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00010s] ()
2025-04-25 09:03:10,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 09:03:10,246 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 09:03:10,246 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 09:03:10,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00008s] ()
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 09:03:10,247 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00007s] ()
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 09:03:10,247 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 09:03:10,248 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 09:03:10,248 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 09:03:10,248 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 09:03:10,248 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 09:31:02 ---

2025-04-25 09:31:04,463 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 09:31:04,464 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 09:31:04,464 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 09:31:04,465 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 09:31:04,465 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 09:31:04,465 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 09:31:04,465 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 09:31:04,466 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 09:31:04,466 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 09:31:04,466 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 09:31:04,466 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 09:31:04,466 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 09:31:04,466 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745566264.4665794
2025-04-25 09:31:04,467 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 09:31:04,468 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745566264.4684594
2025-04-25 09:31:04,469 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140099627103936, name=watchdog_monitor, is_daemon=True
2025-04-25 09:31:04,470 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 09:31:04,471 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 09:31:04,472 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 09:31:04,473 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 09:31:04,473 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 09:31:04,473 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 09:31:04,473 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 09:31:04,474 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 09:31:04,474 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 09:31:04,474 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 09:31:04,475 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 09:31:04,475 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 09:31:04,475 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 09:31:04,475 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 09:31:04,476 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 09:31:04,476 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 09:31:04,476 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,477 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 09:31:04,478 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 09:31:04,478 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 09:31:04,479 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 09:31:04,496 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 09:31:04,540 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 09:31:04,541 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:31:04,541 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:31:04,542 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 09:31:04,546 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:31:04,546 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:31:04,546 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:31:04,546 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:31:04,546 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 09:31:04,549 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:31:04,549 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:31:04,550 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 09:31:04,550 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 09:31:04,550 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 09:31:04,550 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,550 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, filter, llm_coordinator, change_queue, database, memory_cache, metadata_extraction, file_access, doc_relationships, consistency_analysis, recommendation_generator, mcp_server, fs_monitor, scheduler
2025-04-25 09:31:04,550 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 09:31:04,551 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:31:04,551 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,551 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:31:04,552 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 09:31:04,554 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 09:31:04,555 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 09:31:04,555 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 09:31:04,555 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 09:31:04,555 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 09:31:04,555 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:31:04,555 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:31:04,555 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 09:31:04,555 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 09:31:04,556 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,654 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 09:31:04,654 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 09:31:04,654 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 09:31:04,654 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 09:31:04,654 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 09:31:04,654 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:31:04,654 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:31:04,654 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 09:31:04,655 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 09:31:04,655 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,655 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 09:31:04,656 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 09:31:04,656 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 09:31:04,656 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 09:31:04,656 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 09:31:04,656 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 09:31:04,656 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:31:04,656 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:31:04,656 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 09:31:04,656 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,656 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 09:31:04,657 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 09:31:04,657 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 09:31:04,657 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 09:31:04,657 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:31:04,657 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:31:04,657 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 09:31:04,657 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 09:31:04,657 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 09:31:04,657 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 09:31:04,658 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 09:31:04,658 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:31:04,658 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 09:31:04,666 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 09:31:04,668 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 09:31:04,668 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 09:31:04,668 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 09:31:04,668 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 09:31:04,808 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 09:31:04,808 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 09:31:04,809 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 09:31:04,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 09:31:04,809 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00017s] ()
2025-04-25 09:31:04,810 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 09:31:04,810 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 09:31:04,810 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 09:31:04,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 09:31:04,811 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00014s] ()
2025-04-25 09:31:04,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 09:31:04,811 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 09:31:04,811 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 09:31:04,812 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00013s] ()
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 09:31:04,813 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 09:31:04,814 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 09:31:04,814 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 09:31:04,814 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 09:31:04,814 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 09:31:04,814 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 09:31:04,814 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 09:31:04,814 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 09:31:04,814 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 09:50:23 ---

2025-04-25 09:50:25,884 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 09:50:25,885 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 09:50:25,885 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 09:50:25,885 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745567425.8858058
2025-04-25 09:50:25,886 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 09:50:25,886 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745567425.8866901
2025-04-25 09:50:25,886 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140629546440384, name=watchdog_monitor, is_daemon=True
2025-04-25 09:50:25,887 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 09:50:25,887 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 09:50:25,888 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 09:50:25,888 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 09:50:25,889 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 09:50:25,889 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 09:50:25,890 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 09:50:25,890 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 09:50:25,890 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 09:50:25,890 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 09:50:25,890 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 09:50:25,890 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 09:50:25,890 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:25,902 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 09:50:25,967 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 09:50:25,968 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:50:25,968 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:50:25,980 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 09:50:25,982 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:50:25,982 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:50:25,982 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:50:25,983 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:50:25,983 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:50:25,985 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 09:50:25,986 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 09:50:25,986 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 09:50:25,987 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 09:50:25,988 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:25,990 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, change_queue, mcp_server, filter, database, metadata_extraction, doc_relationships, consistency_analysis, fs_monitor, scheduler, memory_cache, llm_coordinator, recommendation_generator
2025-04-25 09:50:25,991 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 09:50:25,991 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:50:25,991 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:25,991 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:50:25,992 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 09:50:25,992 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 09:50:25,992 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 09:50:25,992 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 09:50:25,992 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:50:25,993 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:25,993 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:50:25,994 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 09:50:25,998 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 09:50:25,999 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 09:50:25,999 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 09:50:25,999 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 09:50:25,999 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 09:50:26,000 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:50:26,000 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:26,000 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:50:26,001 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 09:50:26,001 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 09:50:26,001 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 09:50:26,001 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 09:50:26,001 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 09:50:26,001 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:50:26,001 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:26,002 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:50:26,002 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 09:50:26,002 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 09:50:26,002 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 09:50:26,003 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 09:50:26,012 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 09:50:26,012 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 09:50:26,016 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 09:50:26,016 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 09:50:26,016 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 09:50:26,017 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 09:50:26,017 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 09:50:26,017 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 09:50:26,017 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 09:50:26,017 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 09:50:26,017 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 09:50:26,017 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 09:50:26,017 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 09:50:26,017 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 09:50:26,017 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 09:50:26,017 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 09:50:26,017 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 09:50:26,017 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:50:26,017 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:26,017 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:50:26,017 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 09:50:26,017 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 09:50:26,162 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 09:50:26,162 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 09:50:26,163 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 09:50:26,163 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 09:50:26,163 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 09:50:26,163 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 09:50:26,163 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 09:50:26,163 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 09:50:26,163 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 09:50:26,163 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 09:50:26,163 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 09:50:26,163 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 09:50:26,163 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 09:50:26,164 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:50:26,178 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 09:50:26,180 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 09:50:26,181 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 09:50:26,181 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 09:50:26,181 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 09:50:26,385 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 09:50:26,389 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 09:50:26,390 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 09:50:26,390 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 09:50:26,391 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00015s] ()
2025-04-25 09:50:26,391 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 09:50:26,391 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 09:50:26,391 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 09:50:26,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 09:50:26,392 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00019s] ()
2025-04-25 09:50:26,392 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 09:50:26,392 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 09:50:26,392 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 09:50:26,393 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 09:50:26,393 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00025s] ()
2025-04-25 09:50:26,393 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 09:50:26,393 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 09:50:26,393 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 09:50:26,393 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 09:50:26,393 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 09:50:26,394 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 09:50:26,394 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 09:50:26,395 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 09:50:26,395 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.


--- SERVER START ATTEMPT AT 2025-04-25 09:51:17 ---

2025-04-25 09:51:17,757 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 09:51:17,757 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 09:51:17,757 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 09:51:17,757 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 09:51:17,758 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 09:51:17,758 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 09:51:17,758 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745567477.758221
2025-04-25 09:51:17,758 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 09:51:17,758 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745567477.7587054
2025-04-25 09:51:17,758 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140046911960768, name=watchdog_monitor, is_daemon=True
2025-04-25 09:51:17,759 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 09:51:17,759 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 09:51:17,759 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 09:51:17,760 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 09:51:17,760 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 09:51:17,760 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 09:51:17,760 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 09:51:17,760 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 09:51:17,760 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 09:51:17,760 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 09:51:17,760 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 09:51:17,761 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:51:17,768 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 09:51:17,803 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 09:51:17,804 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:51:17,804 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:51:17,804 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 09:51:17,806 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:51:17,806 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:51:17,806 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:51:17,806 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:51:17,806 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 09:51:17,808 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 09:51:17,808 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 09:51:17,809 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 09:51:17,809 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 09:51:17,809 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 09:51:17,809 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 09:51:17,809 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, change_queue, fs_monitor, llm_coordinator, database, filter, mcp_server, metadata_extraction, scheduler, memory_cache, file_access, doc_relationships, consistency_analysis, recommendation_generator
2025-04-25 09:51:17,809 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Component enablement configuration must be a dictionary
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 360, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 278, in initialize_all
    raise ComponentError("Component enablement configuration must be a dictionary")
dbp.core.exceptions.ComponentError: Component enablement configuration must be a dictionary
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 09:51:17,810 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 10:53:35 ---

2025-04-25 10:53:36,081 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 10:53:36,081 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 10:53:36,081 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 10:53:36,081 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 10:53:36,081 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 10:53:36,081 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 10:53:36,082 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 10:53:36,082 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 10:53:36,082 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 10:53:36,082 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 10:53:36,082 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 10:53:36,082 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 10:53:36,082 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745571216.082191
2025-04-25 10:53:36,082 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 10:53:36,082 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745571216.08294
2025-04-25 10:53:36,083 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140135118350016, name=watchdog_monitor, is_daemon=True
2025-04-25 10:53:36,083 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 10:53:36,083 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 10:53:36,083 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 10:53:36,083 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 10:53:36,084 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 10:53:36,084 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 10:53:36,084 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 10:53:36,084 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 10:53:36,084 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 10:53:36,085 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 10:53:36,085 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 10:53:36,085 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 10:53:36,085 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 10:53:36,085 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 10:53:36,093 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 10:53:36,134 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 10:53:36,134 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 10:53:36,135 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 10:53:36,135 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 10:53:36,137 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 10:53:36,137 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 10:53:36,137 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 10:53:36,137 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 10:53:36,137 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 10:53:36,144 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 10:53:36,144 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 10:53:36,145 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 10:53:36,145 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 10:53:36,146 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 10:53:36,146 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 10:53:36,146 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 10:53:36,146 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, change_queue, fs_monitor, filter, database, metadata_extraction, scheduler, memory_cache, file_access, doc_relationships, consistency_analysis, llm_coordinator, recommendation_generator, mcp_server
2025-04-25 10:53:36,146 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 10:53:36,146 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 10:53:36,146 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 360, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 281, in initialize_all
    enabled_config = config_manager.get('component_enabled', {})
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 171, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead.
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 10:53:36,149 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 11:04:10 ---

2025-04-25 11:04:11,555 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 11:04:11,555 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 11:04:11,555 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 11:04:11,555 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 11:04:11,556 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 11:04:11,556 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 11:04:11,556 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745571851.556311
2025-04-25 11:04:11,556 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 11:04:11,557 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140000835352256, name=watchdog_monitor, is_daemon=True
2025-04-25 11:04:11,557 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 11:04:11,557 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745571851.5575018
2025-04-25 11:04:11,557 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 11:04:11,558 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 11:04:11,559 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 2: Waiting for activity
2025-04-25 11:04:11,559 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 11:04:11,560 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 11:04:11,560 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 11:04:11,561 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 11:04:11,561 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 11:04:11,561 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 11:04:11,561 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 11:04:11,561 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 11:04:11,562 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 11:04:11,562 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 11:04:11,562 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 11:04:11,572 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 11:04:11,621 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 11:04:11,622 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 11:04:11,623 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 11:04:11,623 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 11:04:11,628 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 11:04:11,629 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 11:04:11,629 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 11:04:11,629 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 11:04:11,629 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 11:04:11,631 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 11:04:11,632 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 11:04:11,632 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 11:04:11,633 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, filter, change_queue, database, memory_cache, metadata_extraction, fs_monitor, llm_coordinator, scheduler, mcp_server, file_access, doc_relationships, consistency_analysis, recommendation_generator
2025-04-25 11:04:11,633 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 11:04:11,633 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Component enablement configuration must be a dictionary
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 360, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 280, in initialize_all
    raise ComponentError("Component enablement configuration must be a dictionary")
dbp.core.exceptions.ComponentError: Component enablement configuration must be a dictionary
2025-04-25 11:04:11,634 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 11:04:11,635 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 12:12:06 ---

2025-04-25 12:12:10,677 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:12:10,678 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:12:10,679 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:12:10,679 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:12:10,679 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:12:10,679 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:12:10,680 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:12:10,680 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:12:10,680 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:12:10,681 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:12:10,681 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:12:10,681 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:12:10,681 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745575930.6814423
2025-04-25 12:12:10,682 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:12:10,682 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745575930.682888
2025-04-25 12:12:10,683 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140695321736896, name=watchdog_monitor, is_daemon=True
2025-04-25 12:12:10,684 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:12:10,684 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:12:10,685 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:12:10,688 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:12:10,690 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:12:10,691 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:12:10,694 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:12:10,694 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:12:10,694 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:12:10,694 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:12:10,695 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:12:10,695 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:12:10,695 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:12:10,696 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:12:10,696 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:12:10,696 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:12:10,696 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:12:10,697 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:12:10,697 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:12:10,697 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:12:10,698 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:12:10,698 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:12:10,740 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:12:10,861 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:12:10,868 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:12:10,870 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:12:10,870 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:12:10,878 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:12:10,879 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:12:10,887 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:12:10,887 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:12:10,887 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:12:10,893 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:12:10,893 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:12:10,894 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:12:10,894 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:12:10,895 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:12:10,895 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator, filter, database, memory_cache, file_access, change_queue, metadata_extraction, doc_relationships, consistency_analysis, recommendation_generator, fs_monitor, scheduler
2025-04-25 12:12:10,895 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:12:10,895 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: 'ComponentEnabledConfig' object has no attribute 'name'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 360, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 289, in initialize_all
    is_enabled = enabled_config.name  # All component config keys always exist
                 ^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ComponentEnabledConfig' object has no attribute 'name'
2025-04-25 12:12:10,895 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:12:10,909 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 12:12:10,909 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 12:12:10,911 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 12:12:10,911 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 12:12:10,911 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 12:12:10,912 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 12:12:10,912 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 12:12:10,912 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 12:14:30 ---

2025-04-25 12:14:31,422 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:14:31,423 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:14:31,423 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:14:31,423 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745576071.4237108
2025-04-25 12:14:31,424 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:14:31,425 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745576071.425549
2025-04-25 12:14:31,426 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139988647089856, name=watchdog_monitor, is_daemon=True
2025-04-25 12:14:31,426 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:14:31,426 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:14:31,426 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:14:31,427 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:14:31,427 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:14:31,427 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:14:31,427 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:14:31,427 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:14:31,427 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:14:31,427 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:14:31,428 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:14:31,428 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:14:31,428 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:14:31,436 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:14:31,471 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:14:31,472 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:14:31,473 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:14:31,473 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:14:31,478 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:14:31,478 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:14:31,478 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:14:31,478 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:14:31,478 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:14:31,480 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:14:31,480 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:14:31,480 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:14:31,481 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:14:31,481 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:14:31,481 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, filter, database, metadata_extraction, doc_relationships, consistency_analysis, change_queue, fs_monitor, llm_coordinator, recommendation_generator, mcp_server, scheduler, memory_cache
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:14:31,482 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 12:14:31,482 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:14:31,482 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:14:31,482 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:14:31,482 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:14:31,484 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:14:31,484 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:14:31,484 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:14:31,484 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:14:31,484 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 12:14:31,484 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:14:31,484 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:14:31,484 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 12:14:31,484 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:14:31,485 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 12:14:31,566 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:14:31,566 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 12:14:31,567 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 12:14:31,567 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 12:14:31,567 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:14:31,567 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:14:31,567 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:14:31,567 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:14:31,567 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:14:31,567 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:14:31,567 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:14:31,567 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:14:31,568 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:14:31,568 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:14:31,574 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:14:31,576 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:14:31,576 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:14:31,576 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:14:31,576 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:14:31,668 - dbp.config_manager - WARNING - The get() method is deprecated. Use config_manager.get_typed_config().database.alembic_ini_path instead.
2025-04-25 12:14:31,668 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().database.alembic_ini_path instead.
2025-04-25 12:14:31,668 - dbp.database.alembic_manager - ERROR - Failed to run database migrations: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,668 - dbp.database.alembic_manager - ERROR - Error type: DeprecatedMethodError
2025-04-25 12:14:31,669 - dbp.database.alembic_manager - ERROR - Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 200, in run_migrations
    alembic_ini_path = config_manager.get('database.alembic_ini_path')
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

2025-04-25 12:14:31,669 - dbp.database.alembic_manager - INFO - Restored original logging levels after migration
2025-04-25 12:14:31,669 - dbp.database.database - ERROR - Unexpected error during database initialization: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,669 - dbp.database.database - ERROR - Error type: RuntimeError
2025-04-25 12:14:31,670 - dbp.database.database - ERROR - Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 200, in run_migrations
    alembic_ini_path = config_manager.get('database.alembic_ini_path')
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 395, in initialize
    alembic_manager.run_migrations()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 422, in run_migrations
    raise RuntimeError(f"Failed to initialize database schema: {e}") from e
RuntimeError: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

2025-04-25 12:14:31,670 - dbp.database - ERROR - Failed to initialize database component: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 200, in run_migrations
    alembic_ini_path = config_manager.get('database.alembic_ini_path')
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 200, in initialize
    self._db_manager.initialize()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 395, in initialize
    alembic_manager.run_migrations()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 422, in run_migrations
    raise RuntimeError(f"Failed to initialize database schema: {e}") from e
RuntimeError: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,671 - dbp.core.lifecycle - ERROR - Failed to initialize component 'database': Database component initialization failed: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,671 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 200, in run_migrations
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -       alembic_ini_path = config_manager.get('database.alembic_ini_path')
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -       return self._config_manager.get(key, resolve_templates)
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -       raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 200, in initialize
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -       self._db_manager.initialize()
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 395, in initialize
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -       alembic_manager.run_migrations()
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 422, in run_migrations
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize database schema: {e}") from e
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 12:14:31,672 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-25 12:14:31,673 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-25 12:14:31,673 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 209, in initialize
2025-04-25 12:14:31,673 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Database component initialization failed: {e}") from e
2025-04-25 12:14:31,673 - dbp.core.lifecycle - ERROR -   RuntimeError: Database component initialization failed: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,673 - dbp.core.lifecycle - ERROR - Component 'database' debug info: {'class_name': 'DatabaseComponent', 'module': 'dbp.database.database', 'initialized': False, 'has_logger': True, 'initialization_error': {'error_type': 'RuntimeError', 'error_message': "Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead."}}
2025-04-25 12:14:31,673 - dbp.core.lifecycle - ERROR - Dependency 'config_manager' initialized: True
2025-04-25 12:14:31,673 - dbp.core.lifecycle - WARNING - Rolling back initialization of 3 components
2025-04-25 12:14:31,673 - dbp.core.lifecycle - INFO - Rolling back component 'filter'...
2025-04-25 12:14:31,673 - dbp.filter - INFO - Shutting down component 'filter'...
2025-04-25 12:14:31,673 - dbp.filter - INFO - Component 'filter' shut down.
2025-04-25 12:14:31,673 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-25 12:14:31,673 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 12:14:31,673 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 12:14:31,673 - dbp.core.lifecycle - INFO - Rolling back component 'file_access'...
2025-04-25 12:14:31,673 - dbp.core.lifecycle.file_access.file_access - INFO - Shutting down component 'file_access'...
2025-04-25 12:14:31,673 - dbp.core.lifecycle.file_access.file_access - INFO - File access service cache cleared
2025-04-25 12:14:31,673 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' shut down
2025-04-25 12:14:31,673 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Database component initialization failed: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 200, in run_migrations
    alembic_ini_path = config_manager.get('database.alembic_ini_path')
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 200, in initialize
    self._db_manager.initialize()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 395, in initialize
    alembic_manager.run_migrations()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 422, in run_migrations
    raise RuntimeError(f"Failed to initialize database schema: {e}") from e
RuntimeError: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 360, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 209, in initialize
    raise RuntimeError(f"Database component initialization failed: {e}") from e
RuntimeError: Database component initialization failed: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,675 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 12:14:31,676 - dbp.mcp_server.__main__ - CRITICAL - Component 'database' failure details:
2025-04-25 12:14:31,676 - dbp.mcp_server.__main__ - CRITICAL -   error_type: RuntimeError
2025-04-25 12:14:31,676 - dbp.mcp_server.__main__ - CRITICAL -   error_message: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.
2025-04-25 12:14:31,676 - dbp.mcp_server.__main__ - CRITICAL -   error_module: builtins
2025-04-25 12:14:31,676 - dbp.mcp_server.__main__ - CRITICAL -   traceback: Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 200, in run_migrations
    alembic_ini_path = config_manager.get('database.alembic_ini_path')
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 200, in initialize
    self._db_manager.initialize()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/database.py", line 395, in initialize
    alembic_manager.run_migrations()
  File "/home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py", line 422, in run_migrations
    raise RuntimeError(f"Failed to initialize database schema: {e}") from e
RuntimeError: Failed to initialize database schema: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().database.alembic_ini_path' instead.

2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - CRITICAL -   file: /home/jcjorel/cline-best-practices/src/dbp/database/alembic_manager.py
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - CRITICAL -   line: 422
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - CRITICAL -   function: run_migrations
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - CRITICAL -   line_context: raise RuntimeError(f"Failed to initialize database schema: {e}") from e
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 12:14:31,677 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 12:18:44 ---

2025-04-25 12:18:45,307 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:18:45,307 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:18:45,307 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:18:45,307 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:18:45,308 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:18:45,308 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:18:45,308 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745576325.3082647
2025-04-25 12:18:45,308 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:18:45,309 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745576325.309165
2025-04-25 12:18:45,309 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140356108826304, name=watchdog_monitor, is_daemon=True
2025-04-25 12:18:45,310 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:18:45,310 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:18:45,311 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:18:45,312 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:18:45,312 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:18:45,313 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:18:45,314 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:18:45,314 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:18:45,314 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:18:45,314 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:18:45,315 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:18:45,315 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:18:45,315 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:18:45,315 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:18:45,315 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:18:45,325 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:18:45,368 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:18:45,369 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:18:45,370 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:18:45,370 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:18:45,372 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:18:45,372 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:18:45,373 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:18:45,373 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:18:45,373 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:18:45,375 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:18:45,375 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:18:45,376 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:18:45,376 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:18:45,376 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:18:45,378 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, filter, database, mcp_server, change_queue, fs_monitor, metadata_extraction, scheduler, file_access, doc_relationships, consistency_analysis, memory_cache, llm_coordinator, recommendation_generator
2025-04-25 12:18:45,378 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:18:45,378 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:18:45,378 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:18:45,379 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:18:45,379 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:18:45,379 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:18:45,382 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:18:45,383 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:18:45,383 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:18:45,383 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:18:45,383 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 12:18:45,383 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:18:45,383 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:18:45,383 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 12:18:45,383 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 12:18:45,384 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:18:45,490 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:18:45,490 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 12:18:45,490 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 12:18:45,491 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 12:18:45,491 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:18:45,491 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:18:45,491 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:18:45,491 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:18:45,492 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:18:45,492 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:18:45,492 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:18:45,492 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:18:45,492 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:18:45,492 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:18:45,500 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:18:45,501 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:18:45,502 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:18:45,502 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:18:45,502 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:18:45,597 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:18:45,598 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:18:45,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:18:45,599 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00014s] ()
2025-04-25 12:18:45,599 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:18:45,599 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:18:45,599 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:18:45,599 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:18:45,599 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00008s] ()
2025-04-25 12:18:45,600 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:18:45,600 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:18:45,600 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:18:45,601 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:18:45,601 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00011s] ()
2025-04-25 12:18:45,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:18:45,601 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:18:45,601 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:18:45,602 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:18:45,602 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:18:45,602 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:18:45,602 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
ERROR [dbp.core.lifecycle.metadata_extraction] Initialization failed for component 'metadata_extraction': Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().metadata_extraction.model_id' instead.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/metadata_extraction/component.py", line 156, in initialize
    bedrock_client = BedrockClient(config=context.config, logger_override=self.logger.getChild("bedrock"))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/metadata_extraction/bedrock_client.py", line 107, in __init__
    self.model_id = self.config.get('metadata_extraction.model_id', "amazon.titan-text-lite-v1") # Default model
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/component.py", line 179, in get
    return self._config_manager.get(key, resolve_templates)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/config/config_manager.py", line 677, in get
    raise DeprecatedMethodError("ConfigurationManager.get()", alternative)
dbp.core.exceptions.DeprecatedMethodError: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().metadata_extraction.model_id' instead.
WARNI [dbp.mcp_server] [STANDALONE MODE] MCP server is not running.


--- SERVER START ATTEMPT AT 2025-04-25 12:24:00 ---

2025-04-25 12:24:01,370 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:24:01,370 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:24:01,370 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:24:01,371 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:24:01,371 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:24:01,371 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745576641.3714955
2025-04-25 12:24:01,371 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:24:01,372 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745576641.3720977
2025-04-25 12:24:01,372 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140568753743552, name=watchdog_monitor, is_daemon=True
2025-04-25 12:24:01,372 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:24:01,372 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:24:01,373 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:24:01,374 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:24:01,374 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:24:01,374 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:24:01,374 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:24:01,374 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:24:01,374 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:24:01,374 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:24:01,374 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:24:01,374 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:24:01,374 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:24:01,374 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:24:01,375 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:24:01,388 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:24:01,423 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:24:01,424 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:24:01,425 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:24:01,425 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:24:01,428 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:24:01,428 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:24:01,429 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:24:01,429 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:24:01,429 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:24:01,435 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:24:01,436 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:24:01,436 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:24:01,437 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:24:01,437 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:24:01,437 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:24:01,437 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:24:01,438 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:24:01,438 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:24:01,438 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, llm_coordinator, mcp_server, filter, change_queue, fs_monitor, file_access, database, memory_cache, metadata_extraction, scheduler, doc_relationships, consistency_analysis, recommendation_generator
2025-04-25 12:24:01,438 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:24:01,438 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:24:01,439 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:24:01,439 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:24:01,439 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:24:01,439 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:24:01,442 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:24:01,443 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:24:01,443 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:24:01,443 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:24:01,443 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:24:01,444 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:24:01,444 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:24:01,444 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:24:01,446 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 12:24:01,446 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:24:01,446 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': 'LLMCoordinatorConfig' object has no attribute 'get'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 190, in initialize
    self._job_manager = JobManager(
                        ^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py", line 105, in __init__
    self._job_wait_timeout = float(self.config.get('job_wait_timeout_seconds', 60.0))
                                   ^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'LLMCoordinatorConfig' object has no attribute 'get'
2025-04-25 12:24:01,448 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-25 12:24:01,449 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 190, in initialize
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -       self._job_manager = JobManager(
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -                           ^^^^^^^^^^^
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py", line 105, in __init__
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -       self._job_wait_timeout = float(self.config.get('job_wait_timeout_seconds', 60.0))
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -                                      ^^^^^^^^^^^^^^^
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/main.py", line 994, in __getattr__
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -       raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -   AttributeError: 'LLMCoordinatorConfig' object has no attribute 'get'
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-25 12:24:01,450 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-25 12:24:01,451 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 223, in initialize
2025-04-25 12:24:01,451 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-25 12:24:01,451 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-25 12:24:01,451 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-25 12:24:01,451 - dbp.core.lifecycle - WARNING - Rolling back initialization of 1 components
2025-04-25 12:24:01,451 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-25 12:24:01,451 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 12:24:01,451 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 12:24:01,451 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 190, in initialize
    self._job_manager = JobManager(
                        ^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py", line 105, in __init__
    self._job_wait_timeout = float(self.config.get('job_wait_timeout_seconds', 60.0))
                                   ^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'LLMCoordinatorConfig' object has no attribute 'get'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 360, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 223, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'file_access', 'database', 'change_queue', 'fs_monitor', 'filter', 'memory_cache', 'metadata_extraction', 'doc_relationships', 'consistency_analysis', 'recommendation_generator', 'scheduler', 'llm_coordinator', 'mcp_server']
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 12:24:01,452 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 12:30:16 ---

2025-04-25 12:30:16,938 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:30:16,938 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:30:16,938 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:30:16,938 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:30:16,938 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:30:16,938 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:30:16,939 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:30:16,939 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:30:16,939 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:30:16,939 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:30:16,939 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:30:16,939 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:30:16,939 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745577016.9392922
2025-04-25 12:30:16,939 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:30:16,939 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745577016.9397504
2025-04-25 12:30:16,939 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139950192551616, name=watchdog_monitor, is_daemon=True
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:30:16,940 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:30:16,940 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:30:16,940 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:30:16,940 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:30:16,940 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:30:16,941 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:30:16,941 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:30:16,941 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:30:16,941 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:30:16,941 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:30:16,941 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:30:16,948 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:30:16,978 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:30:16,978 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:30:16,979 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:30:16,979 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:30:16,981 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:30:16,981 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:30:16,981 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:30:16,981 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:30:16,981 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:30:16,984 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:30:16,984 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, change_queue, database, metadata_extraction, fs_monitor, doc_relationships, consistency_analysis, llm_coordinator, recommendation_generator, filter, memory_cache, scheduler, mcp_server
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:30:16,985 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:30:16,985 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 12:30:16,986 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:30:16,986 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:30:16,986 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 12:30:16,986 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 12:30:16,986 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 12:30:16,986 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:30:16,986 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:30:16,986 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:30:16,986 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:30:16,986 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:30:16,989 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:30:16,989 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:30:16,989 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 12:30:16,989 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 12:30:16,989 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:30:16,989 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:30:16,990 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:30:16,990 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:30:16,990 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:30:16,990 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:30:16,990 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:30:16,990 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:30:16,995 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:30:16,997 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:30:16,997 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:30:16,997 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:30:16,997 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:30:17,078 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:30:17,079 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:30:17,080 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:30:17,081 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00014s] ()
2025-04-25 12:30:17,081 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:30:17,081 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:30:17,081 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:30:17,081 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:30:17,082 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00021s] ()
2025-04-25 12:30:17,082 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:30:17,082 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:30:17,082 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:30:17,083 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00006s] ()
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:30:17,083 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:30:17,084 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:30:17,084 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:30:17,084 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:30:17,084 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:30:17,084 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:30:17,084 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:30:17,084 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 12:33:37 ---

2025-04-25 12:33:37,907 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:33:37,907 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:33:37,907 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:33:37,907 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745577217.9077964
2025-04-25 12:33:37,908 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:33:37,908 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745577217.908667
2025-04-25 12:33:37,908 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139957262517952, name=watchdog_monitor, is_daemon=True
2025-04-25 12:33:37,909 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:33:37,909 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:33:37,909 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:33:37,909 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:33:37,910 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:33:37,911 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:33:37,911 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:33:37,911 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:33:37,911 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:33:37,911 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:33:37,911 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:33:37,911 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:33:37,912 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:33:37,912 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:33:37,924 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:33:37,971 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:33:37,973 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:33:37,973 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:33:37,973 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:33:37,977 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:33:37,977 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:33:37,977 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:33:37,977 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:33:37,977 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:33:37,982 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:33:37,982 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:33:37,983 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:33:37,983 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:33:37,984 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:33:37,984 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, llm_coordinator, database, memory_cache, change_queue, fs_monitor, mcp_server, metadata_extraction, scheduler, doc_relationships, consistency_analysis, recommendation_generator, filter
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:33:37,985 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 12:33:37,985 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:33:37,985 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:33:37,986 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:33:37,986 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:33:37,986 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:33:37,990 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:33:37,991 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:33:37,991 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:33:37,991 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:33:37,991 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:33:37,991 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:33:37,991 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:33:37,991 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 12:33:37,991 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:33:37,992 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:33:37,992 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 12:33:37,993 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 12:33:37,993 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 12:33:37,993 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 12:33:37,993 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:33:37,993 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:33:37,993 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:33:37,993 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:33:37,993 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:33:37,994 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:33:37,994 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:33:37,994 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:33:37,994 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:33:37,995 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:33:38,010 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:33:38,012 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:33:38,012 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:33:38,012 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:33:38,013 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:33:38,125 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:33:38,126 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:33:38,126 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:33:38,127 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00010s] ()
2025-04-25 12:33:38,127 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:33:38,127 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:33:38,127 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:33:38,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:33:38,127 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00008s] ()
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:33:38,128 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00009s] ()
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:33:38,128 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:33:38,129 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:33:38,129 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:33:38,129 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:33:38,129 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 12:34:01 ---

2025-04-25 12:34:03,419 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:34:03,419 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:34:03,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:34:03,420 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:34:03,420 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745577243.4204257
2025-04-25 12:34:03,420 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:34:03,420 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745577243.4209785
2025-04-25 12:34:03,421 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139750862091968, name=watchdog_monitor, is_daemon=True
2025-04-25 12:34:03,421 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:34:03,421 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:34:03,422 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:34:03,424 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:34:03,424 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:34:03,424 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:34:03,425 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:34:03,425 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:34:03,425 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:34:03,425 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:34:03,426 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:34:03,426 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:34:03,426 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:34:03,426 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:34:03,426 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:34:03,426 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:34:03,426 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:34:03,426 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:34:03,426 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:34:03,427 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:34:03,427 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:34:03,427 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:34:03,434 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:34:03,468 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:34:03,469 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:34:03,470 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:34:03,470 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:34:03,474 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:34:03,474 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:34:03,474 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:34:03,475 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:34:03,475 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:34:03,477 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:34:03,477 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:34:03,477 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:34:03,477 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:34:03,477 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:34:03,477 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, llm_coordinator, file_access, filter, database, memory_cache, metadata_extraction, doc_relationships, consistency_analysis, recommendation_generator, mcp_server, change_queue, fs_monitor, scheduler
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:34:03,478 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:34:03,478 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:34:03,478 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:34:03,481 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:34:03,481 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:34:03,481 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:34:03,481 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:34:03,481 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 12:34:03,482 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 12:34:03,482 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:34:03,482 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:34:03,482 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 12:34:03,482 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 12:34:03,483 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 12:34:03,483 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:34:03,483 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 12:34:03,484 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:34:03,484 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:34:03,484 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:34:03,485 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 12:34:03,485 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 12:34:03,578 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:34:03,579 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 12:34:03,579 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 12:34:03,579 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 12:34:03,579 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:34:03,579 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:34:03,579 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:34:03,579 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:34:03,579 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:34:03,580 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:34:03,580 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:34:03,580 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:34:03,580 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:34:03,580 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:34:03,587 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:34:03,590 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:34:03,590 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:34:03,590 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:34:03,591 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:34:03,709 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:34:03,710 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:34:03,711 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:34:03,712 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:34:03,712 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:34:03,712 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00028s] ()
2025-04-25 12:34:03,713 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:34:03,713 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:34:03,713 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:34:03,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:34:03,714 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00024s] ()
2025-04-25 12:34:03,715 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:34:03,715 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:34:03,716 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:34:03,718 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:34:03,718 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00015s] ()
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:34:03,719 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:34:03,720 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:34:03,720 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:34:03,720 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:34:03,720 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:34:03,720 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 12:36:45 ---

2025-04-25 12:36:47,020 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:36:47,020 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:36:47,020 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:36:47,020 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:36:47,020 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:36:47,020 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:36:47,021 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:36:47,021 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:36:47,021 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:36:47,021 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:36:47,021 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:36:47,021 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:36:47,021 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745577407.0212562
2025-04-25 12:36:47,021 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:36:47,022 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745577407.022222
2025-04-25 12:36:47,022 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140348672673472, name=watchdog_monitor, is_daemon=True
2025-04-25 12:36:47,023 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:36:47,023 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:36:47,023 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:36:47,024 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:36:47,025 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:36:47,025 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:36:47,025 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:36:47,025 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:36:47,025 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:36:47,025 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:36:47,025 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:36:47,026 - dbp.config.config_manager - ERROR - The get() method is deprecated. Use config_manager.get_typed_config().component_enabled instead.
2025-04-25 12:36:47,026 - dbp.core.lifecycle - WARNING - Failed to get component enablement configuration: Method 'ConfigurationManager.get()' is deprecated. Use 'config_manager.get_typed_config().component_enabled' instead., using defaults
2025-04-25 12:36:47,026 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:36:47,026 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:36:47,026 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:36:47,037 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:36:47,077 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:36:47,078 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:36:47,078 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:36:47,078 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:36:47,081 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:36:47,081 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:36:47,081 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:36:47,081 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:36:47,081 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:36:47,083 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:36:47,083 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:36:47,084 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:36:47,084 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:36:47,084 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:36:47,084 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:36:47,084 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:36:47,085 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:36:47,085 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:36:47,085 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:36:47,086 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:36:47,086 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:36:47,086 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:36:47,086 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:36:47,086 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:36:47,086 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, filter, file_access, database, metadata_extraction, doc_relationships, mcp_server, consistency_analysis, change_queue, fs_monitor, memory_cache, llm_coordinator, recommendation_generator, scheduler
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:36:47,087 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:36:47,087 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:36:47,088 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:36:47,090 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:36:47,091 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:36:47,091 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:36:47,091 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:36:47,091 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 12:36:47,091 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:36:47,091 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:36:47,091 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:36:47,092 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 12:36:47,092 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 12:36:47,200 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:36:47,202 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 12:36:47,202 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 12:36:47,202 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 12:36:47,202 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:36:47,203 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 12:36:47,203 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:36:47,203 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:36:47,203 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:36:47,204 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:36:47,204 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:36:47,204 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:36:47,204 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:36:47,204 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:36:47,212 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:36:47,214 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:36:47,214 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:36:47,214 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:36:47,215 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:36:47,367 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:36:47,369 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:36:47,369 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:36:47,369 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:36:47,369 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:36:47,369 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:36:47,370 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:36:47,370 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:36:47,370 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:36:47,370 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:36:47,370 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:36:47,371 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00025s] ()
2025-04-25 12:36:47,371 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:36:47,371 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:36:47,372 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:36:47,372 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:36:47,372 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00015s] ()
2025-04-25 12:36:47,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:36:47,373 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:36:47,373 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:36:47,375 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:36:47,376 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00022s] ()
2025-04-25 12:36:47,376 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:36:47,376 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:36:47,376 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:36:47,376 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:36:47,376 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:36:47,377 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:36:47,377 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:36:47,378 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:36:47,378 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 12:46:57 ---

2025-04-25 12:47:00,634 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:47:00,634 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:47:00,634 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:47:00,634 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:47:00,634 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:47:00,634 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:47:00,635 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:47:00,635 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:47:00,635 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:47:00,635 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:47:00,635 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:47:00,635 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:47:00,635 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745578020.635299
2025-04-25 12:47:00,635 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:47:00,636 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745578020.6365514
2025-04-25 12:47:00,636 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=139711702046400, name=watchdog_monitor, is_daemon=True
2025-04-25 12:47:00,637 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:47:00,637 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:47:00,638 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:47:00,638 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:47:00,639 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:47:00,639 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:47:00,639 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:47:00,639 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:47:00,639 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 12:47:00,640 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:47:00,640 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:47:00,640 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:47:00,640 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:47:00,657 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:47:00,708 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:47:00,709 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:47:00,710 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:47:00,710 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:47:00,713 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:47:00,713 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:47:00,713 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:47:00,713 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:47:00,713 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:47:00,717 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:47:00,717 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, filter, llm_coordinator, database, memory_cache, change_queue, metadata_extraction, file_access, doc_relationships, consistency_analysis, recommendation_generator, fs_monitor, scheduler, mcp_server
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:47:00,718 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:47:00,718 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:47:00,719 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:47:00,719 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:47:00,719 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:47:00,723 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:47:00,726 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:47:00,727 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:47:00,727 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:47:00,727 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:47:00,727 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 12:47:00,727 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:47:00,728 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:47:00,728 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:47:00,729 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 12:47:00,730 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 12:47:00,994 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:47:00,996 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 12:47:00,996 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 12:47:00,996 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 12:47:00,996 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:47:00,997 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:47:00,997 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:47:00,997 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:47:00,998 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 12:47:00,998 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:47:00,999 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 12:47:00,999 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 12:47:00,999 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 12:47:01,005 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 12:47:01,010 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 12:47:01,010 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 12:47:01,010 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 12:47:01,011 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 12:47:01,011 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 12:47:01,011 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 12:47:01,011 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 12:47:01,011 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 12:47:01,012 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:47:01,012 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:47:01,012 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:47:01,013 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:47:01,013 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:47:01,013 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:47:01,014 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:47:01,014 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:47:01,014 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:47:01,014 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:47:01,041 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:47:01,051 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:47:01,051 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:47:01,052 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:47:01,052 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:47:01,344 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:47:01,345 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:47:01,345 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:47:01,345 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:47:01,347 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:47:01,348 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:47:01,348 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:47:01,349 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:47:01,349 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:47:01,349 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:47:01,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:47:01,355 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00058s] ()
2025-04-25 12:47:01,356 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:47:01,356 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:47:01,357 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:47:01,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:47:01,358 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00047s] ()
2025-04-25 12:47:01,359 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:47:01,359 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:47:01,360 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:47:01,363 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:47:01,364 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00048s] ()
2025-04-25 12:47:01,365 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:47:01,365 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:47:01,367 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:47:01,374 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:47:01,375 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:47:01,375 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:47:01,375 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:47:01,375 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:47:01,375 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:47:01,375 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:47:01,376 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:47:01,376 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:47:01,376 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:47:01,376 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:47:01,376 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:47:01,376 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:47:01,377 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:47:01,377 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:47:01,377 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:47:01,377 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:47:01,378 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:47:01,378 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:47:01,378 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:47:01,378 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 12:48:19 ---

2025-04-25 12:48:20,889 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 12:48:20,890 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 12:48:20,890 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 12:48:20,890 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745578100.8906815
2025-04-25 12:48:20,891 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 12:48:20,891 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745578100.8913827
2025-04-25 12:48:20,891 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140609252878016, name=watchdog_monitor, is_daemon=True
2025-04-25 12:48:20,891 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 12:48:20,891 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 12:48:20,892 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 12:48:20,893 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 12:48:20,893 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 12:48:20,893 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 12:48:20,893 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 12:48:20,893 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 12:48:20,893 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 12:48:20,893 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 12:48:20,893 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:20,894 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 12:48:20,894 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 12:48:20,895 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 12:48:20,895 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 12:48:20,905 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 12:48:20,949 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 12:48:20,950 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:48:20,950 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:48:20,950 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 12:48:20,953 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:48:20,953 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:48:20,953 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:48:20,953 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:48:20,953 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:48:20,955 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 12:48:20,956 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 12:48:20,956 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 12:48:20,956 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:20,957 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 12:48:20,957 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 12:48:20,958 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, change_queue, llm_coordinator, fs_monitor, file_access, filter, database, metadata_extraction, doc_relationships, scheduler, consistency_analysis, recommendation_generator, memory_cache, mcp_server
2025-04-25 12:48:20,958 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 12:48:20,958 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 12:48:20,959 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:20,959 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:20,959 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:20,960 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 12:48:20,964 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 12:48:20,965 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 12:48:20,965 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 12:48:20,965 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 12:48:20,965 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 12:48:20,966 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:20,966 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:20,966 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 12:48:20,966 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 12:48:20,966 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 12:48:20,966 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 12:48:20,966 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:48:20,967 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:20,967 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:20,967 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:20,968 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 12:48:20,968 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 12:48:20,968 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 12:48:20,968 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 12:48:20,968 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 12:48:20,968 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 12:48:20,969 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 12:48:20,970 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 12:48:20,970 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor'...
2025-04-25 12:48:20,970 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:20,970 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:20,970 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:20,971 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'fs_monitor'
2025-04-25 12:48:20,971 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Initializing component 'fs_monitor'...
2025-04-25 12:48:20,971 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Change queue component successfully initialized
2025-04-25 12:48:20,971 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Creating monitor for platform with project root: /home/jcjorel/cline-best-practices
2025-04-25 12:48:20,971 - dbp.fs_monitor.factory - INFO - Creating File System Monitor...
2025-04-25 12:48:21,063 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:48:21,063 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 38 patterns.
2025-04-25 12:48:21,063 - dbp.fs_monitor.queue - INFO - Event filter set to: GitIgnoreFilter
2025-04-25 12:48:21,063 - dbp.fs_monitor.factory - INFO - Detected Operating System: Linux
2025-04-25 12:48:21,063 - dbp.fs_monitor.factory - INFO - Selected LinuxFileSystemMonitor (inotify).
2025-04-25 12:48:21,064 - dbp.fs_monitor.base - INFO - Starting LinuxFileSystemMonitor...
2025-04-25 12:48:21,064 - dbp.fs_monitor.linux - INFO - Linux file system monitor started successfully.
2025-04-25 12:48:21,064 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - File system monitoring started
2025-04-25 12:48:21,064 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 12:48:21,064 - dbp.core.lifecycle - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 12:48:21,064 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 12:48:21,064 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:21,064 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:21,064 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 12:48:21,065 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 12:48:21,065 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 12:48:21,065 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 12:48:21,065 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:21,065 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:21,065 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:21,065 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 12:48:21,065 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 12:48:21,151 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 12:48:21,152 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 12:48:21,152 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 12:48:21,152 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 12:48:21,152 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 12:48:21,152 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 12:48:21,152 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 12:48:21,152 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 12:48:21,153 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 12:48:21,153 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 12:48:21,153 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 12:48:21,153 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 12:48:21,153 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 12:48:21,153 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 12:48:21,163 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 12:48:21,165 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 12:48:21,165 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 12:48:21,165 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 12:48:21,165 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 12:48:21,287 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 12:48:21,288 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:48:21,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 12:48:21,289 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00013s] ()
2025-04-25 12:48:21,289 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 12:48:21,289 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:48:21,289 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 12:48:21,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 12:48:21,290 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00011s] ()
2025-04-25 12:48:21,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 12:48:21,290 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 12:48:21,290 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 12:48:21,290 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 12:48:21,290 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00011s] ()
2025-04-25 12:48:21,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 12:48:21,291 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 12:48:21,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 12:48:21,291 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 12:48:21,292 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 13:05:17 ---

2025-04-25 13:05:20,141 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 13:05:20,142 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 13:05:20,143 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 13:05:20,143 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 13:05:20,143 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 13:05:20,143 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 13:05:20,143 - dbp.core.watchdog - CRITICAL - WATCHDOG SETUP: Initial timestamp: 1745579120.1432905
2025-04-25 13:05:20,144 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 13:05:20,144 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745579120.1448734
2025-04-25 13:05:20,145 - dbp.core.watchdog - CRITICAL - WATCHDOG THREAD INFO: id=140634109716160, name=watchdog_monitor, is_daemon=True
2025-04-25 13:05:20,154 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 13:05:20,154 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 13:05:20,155 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 13:05:20,157 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 13:05:20,157 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 13:05:20,158 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 13:05:20,158 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 13:05:20,158 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 13:05:20,159 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 13:05:20,159 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 13:05:20,159 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 13:05:20,160 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 13:05:20,160 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 13:05:20,161 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 13:05:20,169 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 13:05:20,170 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 13:05:20,170 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:05:20,170 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 13:05:20,171 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 13:05:20,172 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 13:05:20,172 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 13:05:20,205 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 13:05:20,341 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 13:05:20,348 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:05:20,353 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:05:20,353 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 13:05:20,360 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:05:20,361 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:05:20,361 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:05:20,361 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:05:20,361 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:05:20,377 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:05:20,387 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 13:05:20,388 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:05:20,388 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:05:20,389 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 13:05:20,390 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:05:20,390 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 13:05:20,391 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 13:05:20,391 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, database, metadata_extraction, memory_cache, llm_coordinator, mcp_server, file_access, doc_relationships, consistency_analysis, recommendation_generator, filter, change_queue, fs_monitor, scheduler
2025-04-25 13:05:20,391 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 13:05:20,392 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 13:05:20,392 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:05:20,392 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:05:20,393 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:05:20,393 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 13:05:20,417 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 13:05:20,418 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 13:05:20,418 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 13:05:20,418 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 13:05:20,419 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 13:05:20,419 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:05:20,419 - dbp.core.watchdog - CRITICAL - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:05:20,419 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:05:20,420 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 13:05:20,421 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 13:05:20,421 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 13:05:20,421 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 13:05:20,421 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 13:05:20,421 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 13:05:20,464 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 13:05:20,478 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 13:05:20,478 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 13:05:20,479 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 13:05:20,479 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 13:05:20,830 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 13:05:20,832 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 13:05:20,832 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 13:05:20,832 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 13:05:20,832 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 13:05:20,833 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 13:05:20,837 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 13:05:20,837 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 13:05:20,838 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 13:05:20,838 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:05:20,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 13:05:20,839 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00014s] ()
2025-04-25 13:05:20,839 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 13:05:20,840 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:05:20,840 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:05:20,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 13:05:20,840 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00015s] ()
2025-04-25 13:05:20,840 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 13:05:20,841 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 13:05:20,841 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 13:05:20,841 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 13:05:20,841 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00010s] ()
2025-04-25 13:05:20,841 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 13:05:20,841 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 13:05:20,842 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:05:20,842 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 13:05:20,842 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 13:05:20,843 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 13:08:07 ---

2025-04-25 13:08:08,902 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 13:08:08,903 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 13:08:08,903 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 13:08:08,904 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745579288.9039214
2025-04-25 13:08:08,904 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 13:08:08,904 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745579288.9043956
2025-04-25 13:08:08,904 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140455496931008, name=watchdog_monitor, is_daemon=True
2025-04-25 13:08:08,904 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 13:08:08,904 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 13:08:08,905 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 13:08:08,906 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 13:08:08,906 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 13:08:08,906 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 13:08:08,906 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 13:08:08,906 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 13:08:08,906 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:08,906 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 13:08:08,906 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 13:08:08,948 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 13:08:08,952 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 13:08:08,953 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:08:08,953 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:08:08,954 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 13:08:08,956 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:08:08,956 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:08:08,956 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:08:08,956 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:08:08,956 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:08:08,958 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 13:08:08,959 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 13:08:08,959 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, change_queue, llm_coordinator, fs_monitor, filter, mcp_server, database, metadata_extraction, doc_relationships, memory_cache, consistency_analysis, recommendation_generator, scheduler
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 13:08:08,959 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:08,960 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 13:08:08,960 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:08,960 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:08,961 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 13:08:08,961 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:08,964 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 13:08:08,964 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 13:08:08,965 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 13:08:08,965 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 13:08:08,965 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:08,965 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:08,965 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:08,966 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 13:08:08,966 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 13:08:08,967 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 13:08:08,969 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 13:08:08,969 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 13:08:08,969 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 13:08:08,969 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor'...
2025-04-25 13:08:08,969 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:08,969 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:08,969 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'fs_monitor'
2025-04-25 13:08:08,969 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Initializing component 'fs_monitor'...
2025-04-25 13:08:08,969 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Change queue component successfully initialized
2025-04-25 13:08:08,969 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Creating monitor for platform with project root: /home/jcjorel/cline-best-practices
2025-04-25 13:08:08,969 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:08,970 - dbp.fs_monitor.factory - INFO - Creating File System Monitor...
2025-04-25 13:08:09,052 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 13:08:09,052 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 38 patterns.
2025-04-25 13:08:09,052 - dbp.fs_monitor.queue - INFO - Event filter set to: GitIgnoreFilter
2025-04-25 13:08:09,052 - dbp.fs_monitor.factory - INFO - Detected Operating System: Linux
2025-04-25 13:08:09,052 - dbp.fs_monitor.factory - INFO - Selected LinuxFileSystemMonitor (inotify).
2025-04-25 13:08:09,052 - dbp.fs_monitor.base - INFO - Starting LinuxFileSystemMonitor...
2025-04-25 13:08:09,053 - dbp.fs_monitor.linux - INFO - Linux file system monitor started successfully.
2025-04-25 13:08:09,053 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - File system monitoring started
2025-04-25 13:08:09,053 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 13:08:09,053 - dbp.core.lifecycle - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 13:08:09,053 - dbp.core.lifecycle - INFO - Initializing component 'filter'...
2025-04-25 13:08:09,053 - dbp.core.lifecycle - INFO - Initializing component 'filter' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:09,053 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:09,053 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'filter'
2025-04-25 13:08:09,054 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:09,054 - dbp.filter - INFO - Initializing component 'filter'...
2025-04-25 13:08:09,141 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 13:08:09,141 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 46 patterns.
2025-04-25 13:08:09,141 - dbp.filter - INFO - Component 'filter' initialized successfully.
2025-04-25 13:08:09,141 - dbp.core.lifecycle - INFO - Component 'filter' initialized successfully
2025-04-25 13:08:09,141 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 13:08:09,141 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:09,141 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:09,141 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 13:08:09,141 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 13:08:09,141 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:09,142 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 13:08:09,142 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 13:08:09,146 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 13:08:09,147 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 13:08:09,150 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 13:08:09,151 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 13:08:09,151 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 13:08:09,151 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 13:08:09,151 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 13:08:09,151 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 13:08:09,151 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 13:08:09,151 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 13:08:09,151 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 13:08:09,152 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 13:08:09,152 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 13:08:09,152 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 13:08:09,152 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 13:08:09,152 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 13:08:09,152 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 13:08:09,152 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:08:09,152 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:08:09,152 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 13:08:09,152 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:08:09,152 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 13:08:09,153 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 13:08:09,153 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 13:08:09,153 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 13:08:09,153 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 13:08:09,159 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 13:08:09,161 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 13:08:09,161 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 13:08:09,161 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 13:08:09,161 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 13:08:09,264 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 13:08:09,264 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 13:08:09,265 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:08:09,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 13:08:09,265 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00015s] ()
2025-04-25 13:08:09,265 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 13:08:09,266 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:08:09,266 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:08:09,266 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 13:08:09,266 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00069s] ()
2025-04-25 13:08:09,267 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 13:08:09,268 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 13:08:09,268 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 13:08:09,269 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00036s] ()
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 13:08:09,269 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 13:08:09,270 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:08:09,270 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 13:08:09,270 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 13:08:09,270 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.


--- SERVER START ATTEMPT AT 2025-04-25 13:15:03 ---

2025-04-25 13:15:04,859 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 13:15:04,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 13:15:04,861 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 13:15:04,861 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 13:15:04,861 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 13:15:04,861 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745579704.8612857
2025-04-25 13:15:04,861 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 13:15:04,862 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745579704.8621757
2025-04-25 13:15:04,862 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140181462103744, name=watchdog_monitor, is_daemon=True
2025-04-25 13:15:04,863 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 13:15:04,864 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 13:15:04,864 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 13:15:04,865 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 13:15:04,865 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 13:15:04,865 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 13:15:04,866 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 13:15:04,866 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 13:15:04,866 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 13:15:04,866 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 13:15:04,866 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 13:15:04,866 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 13:15:04,866 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 13:15:04,867 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 13:15:04,867 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:15:04,924 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 13:15:04,925 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 13:15:04,926 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:15:04,926 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:15:04,927 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 13:15:04,930 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:15:04,931 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:15:04,931 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:15:04,931 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:15:04,931 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:15:04,933 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:15:04,933 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 13:15:04,934 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 13:15:04,934 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, llm_coordinator, change_queue, fs_monitor, database, metadata_extraction, scheduler, memory_cache, mcp_server, filter, file_access, doc_relationships, consistency_analysis, recommendation_generator
2025-04-25 13:15:04,935 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 13:15:04,935 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 13:15:04,935 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:15:04,935 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:15:04,935 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 13:15:04,935 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:15:04,938 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 13:15:04,938 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 13:15:04,939 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 13:15:04,939 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 13:15:04,939 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-25 13:15:04,939 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:15:04,939 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:15:04,939 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:15:04,940 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'llm_coordinator'
2025-04-25 13:15:04,940 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-25 13:15:04,940 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-25 13:15:04,940 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-25 13:15:04,940 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-25 13:15:04,941 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-25 13:15:04,941 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-25 13:15:04,941 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-25 13:15:04,941 - dbp.core.lifecycle - INFO - Initializing component 'change_queue'...
2025-04-25 13:15:04,942 - dbp.core.lifecycle - INFO - Initializing component 'change_queue' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:15:04,942 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:15:04,942 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:15:04,943 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'change_queue'
2025-04-25 13:15:04,943 - dbp.change_queue - INFO - Initializing component 'change_queue'...
2025-04-25 13:15:04,943 - dbp.change_queue - INFO - Component 'change_queue' initialized successfully.
2025-04-25 13:15:04,943 - dbp.core.lifecycle - INFO - Component 'change_queue' initialized successfully
2025-04-25 13:15:04,943 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor'...
2025-04-25 13:15:04,943 - dbp.core.lifecycle - INFO - Initializing component 'fs_monitor' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:15:04,944 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:15:04,944 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:15:04,944 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'fs_monitor'
2025-04-25 13:15:04,945 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Initializing component 'fs_monitor'...
2025-04-25 13:15:04,945 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Change queue component successfully initialized
2025-04-25 13:15:04,945 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Creating monitor for platform with project root: /home/jcjorel/cline-best-practices
2025-04-25 13:15:04,945 - dbp.fs_monitor.factory - INFO - Creating File System Monitor...
2025-04-25 13:15:05,062 - dbp.fs_monitor.filter - INFO - Found 3 .gitignore files.
2025-04-25 13:15:05,063 - dbp.fs_monitor.filter - INFO - GitIgnoreFilter initialized with 38 patterns.
2025-04-25 13:15:05,063 - dbp.fs_monitor.queue - INFO - Event filter set to: GitIgnoreFilter
2025-04-25 13:15:05,063 - dbp.fs_monitor.factory - INFO - Detected Operating System: Linux
2025-04-25 13:15:05,063 - dbp.fs_monitor.factory - INFO - Selected LinuxFileSystemMonitor (inotify).
2025-04-25 13:15:05,063 - dbp.fs_monitor.base - INFO - Starting LinuxFileSystemMonitor...
2025-04-25 13:15:05,064 - dbp.fs_monitor.linux - INFO - Linux file system monitor started successfully.
2025-04-25 13:15:05,064 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - File system monitoring started
2025-04-25 13:15:05,064 - dbp.core.lifecycle.fs_monitor.fs_monitor - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 13:15:05,064 - dbp.core.lifecycle - INFO - Component 'fs_monitor' initialized successfully
2025-04-25 13:15:05,064 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 13:15:05,065 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:15:05,065 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:15:05,065 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 13:15:05,065 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 13:15:05,065 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 13:15:05,065 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 13:15:05,065 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 13:15:05,065 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 13:15:05,066 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:15:05,075 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 13:15:05,078 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 13:15:05,078 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 13:15:05,078 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 13:15:05,078 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 13:15:05,230 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 13:15:05,232 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 13:15:05,232 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 13:15:05,233 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:15:05,234 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 13:15:05,234 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00022s] ()
2025-04-25 13:15:05,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 13:15:05,234 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:15:05,235 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:15:05,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 13:15:05,236 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00020s] ()
2025-04-25 13:15:05,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 13:15:05,236 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 13:15:05,236 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 13:15:05,239 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00015s] ()
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 13:15:05,239 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 13:15:05,240 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:15:05,240 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 13:15:05,240 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 13:15:05,241 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
WARNI [dbp.mcp_server] Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies


--- SERVER START ATTEMPT AT 2025-04-25 13:22:01 ---

2025-04-25 13:22:03,229 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 13:22:03,230 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 13:22:03,230 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 13:22:03,230 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745580123.2306926
2025-04-25 13:22:03,231 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 13:22:03,231 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139729102898880, name=watchdog_monitor, is_daemon=True
2025-04-25 13:22:03,231 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 13:22:03,231 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745580123.231942
2025-04-25 13:22:03,232 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:22:03,232 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 13:22:03,233 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 2: Waiting for activity
2025-04-25 13:22:03,234 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 13:22:03,234 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 13:22:03,234 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 13:22:03,235 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 13:22:03,235 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 13:22:03,235 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 13:22:03,236 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 13:22:03,236 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:22:03,236 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 13:22:03,236 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 13:22:03,236 - dbp.core.lifecycle - INFO - Registered component class: 'file_access' with dependencies: []
2025-04-25 13:22:03,236 - dbp.core.lifecycle - INFO - Registered component class: 'database' with dependencies: ['config_manager']
2025-04-25 13:22:03,253 - dbp.fs_monitor.macos - WARNING - The 'fsevents' library is required for MacOSFileSystemMonitor but was not found. Install it using 'pip install fsevents'.
2025-04-25 13:22:03,319 - dbp.fs_monitor.windows - WARNING - The 'pywin32' library is required for WindowsFileSystemMonitor but was not found. Install it using 'pip install pywin32'.
2025-04-25 13:22:03,320 - dbp.core.lifecycle - INFO - Registered component class: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:22:03,320 - dbp.core.lifecycle - INFO - Registered component class: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:22:03,320 - dbp.core.lifecycle - INFO - Registered component class: 'filter' with dependencies: ['config_manager']
2025-04-25 13:22:03,323 - dbp.core.lifecycle - INFO - Registered component class: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:22:03,323 - dbp.core.lifecycle - INFO - Registered component class: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:22:03,323 - dbp.core.lifecycle - INFO - Registered component class: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:22:03,323 - dbp.core.lifecycle - INFO - Registered component class: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:22:03,323 - dbp.core.lifecycle - INFO - Registered component class: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registered component class: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registered 14 components with registry
2025-04-25 13:22:03,336 - dbp.core.registry - INFO - Registering 14 components with system
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'file_access' with dependencies: []
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'database' with dependencies: ['config_manager']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'change_queue' with dependencies: ['config_manager']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'fs_monitor' with dependencies: ['config_manager', 'change_queue']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'filter' with dependencies: ['config_manager']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'memory_cache' with dependencies: ['database', 'config_manager']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'metadata_extraction' with dependencies: ['database']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'doc_relationships' with dependencies: ['database', 'metadata_extraction', 'file_access']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'consistency_analysis' with dependencies: ['database', 'doc_relationships', 'metadata_extraction']
2025-04-25 13:22:03,336 - dbp.core.lifecycle - INFO - Registering component: 'recommendation_generator' with dependencies: ['consistency_analysis', 'database', 'llm_coordinator']
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Registering component: 'scheduler' with dependencies: ['config_manager', 'fs_monitor', 'metadata_extraction']
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager']
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Initializing 14 components
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Component initialization order: file_access, config_manager, mcp_server, database, change_queue, metadata_extraction, fs_monitor, scheduler, memory_cache, llm_coordinator, doc_relationships, consistency_analysis, recommendation_generator, filter
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=True database=True fs_monitor=True filter=True change_queue=True memory_cache=True consistency_analysis=True doc_relationships=True recommendation_generator=True scheduler=True metadata_extraction=True llm_coordinator=True mcp_server=True
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Initializing component 'file_access'...
2025-04-25 13:22:03,337 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:22:03,337 - dbp.core.lifecycle - INFO - Initializing component 'file_access' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:22:03,338 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:22:03,338 - dbp.core.lifecycle.file_access.file_access - INFO - Initializing component 'file_access'...
2025-04-25 13:22:03,338 - dbp.core.lifecycle.file_access.file_access - INFO - Component 'file_access' initialized successfully
2025-04-25 13:22:03,338 - dbp.core.lifecycle - INFO - Component 'file_access' initialized successfully
2025-04-25 13:22:03,338 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 13:22:03,338 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:22:03,338 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:22:03,338 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 13:22:03,339 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:22:03,344 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 13:22:03,344 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 13:22:03,345 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 13:22:03,345 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 13:22:03,345 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 13:22:03,345 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:22:03,345 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:22:03,345 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 13:22:03,345 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 13:22:03,345 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 13:22:03,346 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 13:22:03,346 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:22:03,361 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 13:22:03,361 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 13:22:03,366 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 13:22:03,366 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 13:22:03,366 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 13:22:03,366 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 13:22:03,366 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 13:22:03,366 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 13:22:03,366 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 13:22:03,366 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 13:22:03,366 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 13:22:03,366 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 13:22:03,366 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 13:22:03,366 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 13:22:03,366 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 13:22:03,366 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 13:22:03,366 - dbp.core.lifecycle - INFO - Initializing component 'database'...
2025-04-25 13:22:03,367 - dbp.core.lifecycle - INFO - Initializing component 'database' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 13:22:03,367 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 13:22:03,367 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'database'
2025-04-25 13:22:03,367 - dbp.database - INFO - Initializing component 'database'...
2025-04-25 13:22:03,367 - dbp.database.database - INFO - Initializing database with type: sqlite
2025-04-25 13:22:03,367 - dbp.database.database - INFO - Initializing SQLite database at: .dbp/database.sqlite
2025-04-25 13:22:03,367 - dbp.database.database - INFO - SQLite configuration: pool_size=4, timeout=5
2025-04-25 13:22:03,367 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 13:22:03,368 - dbp.database.database - INFO - SQLite path: absolute=/home/jcjorel/cline-best-practices/.dbp/database.sqlite, normalized=.dbp/database.sqlite
2025-04-25 13:22:03,383 - dbp.database.database - INFO - Enabling SQLite WAL mode...
2025-04-25 13:22:03,386 - dbp.database.database - INFO - SQLite WAL mode enabled. Current journal mode: wal
2025-04-25 13:22:03,386 - dbp.database.alembic_manager - INFO - Running Alembic migrations to initialize/update the database schema...
2025-04-25 13:22:03,386 - dbp.database.alembic_manager - INFO - Enhanced migration verbosity enabled
2025-04-25 13:22:03,387 - dbp.database.alembic_manager - INFO - Verbose logging enabled for migration operations
2025-04-25 13:22:03,588 - dbp.database.alembic_manager - INFO - Checking available migration versions...
2025-04-25 13:22:03,588 - dbp.database.alembic_manager - INFO - Available migration heads: ['20250416_180000']
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - Total available revisions: 1
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - Latest available revisions:
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO -   - 20250416_180000: Initial schema
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - Running database migrations...
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - Migration sequence:
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - 1. Testing database connection
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - 2. Running upgrade to latest version
2025-04-25 13:22:03,589 - dbp.database.alembic_manager - INFO - 3. Verifying migration success
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:22:03,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT 1
2025-04-25 13:22:03,591 - sqlalchemy.engine.Engine - INFO - SELECT 1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00024s] ()
2025-04-25 13:22:03,591 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('1',)
2025-04-25 13:22:03,592 - sqlalchemy.engine.Engine - DEBUG - Col ('1',)
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:22:03,592 - sqlalchemy.engine.Engine - INFO - COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
2025-04-25 13:22:03,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT version_num FROM alembic_version
2025-04-25 13:22:03,595 - sqlalchemy.engine.Engine - INFO - SELECT version_num FROM alembic_version
INFO  [sqlalchemy.engine.Engine] [generated in 0.00027s] ()
2025-04-25 13:22:03,595 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('version_num',)
2025-04-25 13:22:03,595 - sqlalchemy.engine.Engine - DEBUG - Col ('version_num',)
DEBUG [sqlalchemy.engine.Engine] Row ('20250416_180000',)
2025-04-25 13:22:03,595 - sqlalchemy.engine.Engine - DEBUG - Row ('20250416_180000',)
2025-04-25 13:22:03,596 - dbp.database.alembic_manager - INFO - Current version before migration: 20250416_180000
INFO  [sqlalchemy.engine.Engine] SELECT name FROM sqlite_master WHERE type='table'
2025-04-25 13:22:03,597 - sqlalchemy.engine.Engine - INFO - SELECT name FROM sqlite_master WHERE type='table'
INFO  [sqlalchemy.engine.Engine] [generated in 0.00038s] ()
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ()
DEBUG [sqlalchemy.engine.Engine] Col ('name',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Col ('name',)
DEBUG [sqlalchemy.engine.Engine] Row ('alembic_version',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('alembic_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('projects',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('projects',)
DEBUG [sqlalchemy.engine.Engine] Row ('documents',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('document_relationships',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('document_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('functions',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('functions',)
DEBUG [sqlalchemy.engine.Engine] Row ('classes',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('classes',)
DEBUG [sqlalchemy.engine.Engine] Row ('design_decisions',)
2025-04-25 13:22:03,598 - sqlalchemy.engine.Engine - DEBUG - Row ('design_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('change_records',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('change_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistencies',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistencies',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendations',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendations',)
DEBUG [sqlalchemy.engine.Engine] Row ('suggested_changes',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('suggested_changes',)
DEBUG [sqlalchemy.engine.Engine] Row ('developer_decisions',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('developer_decisions',)
DEBUG [sqlalchemy.engine.Engine] Row ('schema_version',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('schema_version',)
DEBUG [sqlalchemy.engine.Engine] Row ('doc_relationships',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('doc_relationships',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_records',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_records',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_records',)
DEBUG [sqlalchemy.engine.Engine] Row ('inconsistency_documents',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('inconsistency_documents',)
DEBUG [sqlalchemy.engine.Engine] Row ('recommendation_inconsistencies',)
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - DEBUG - Row ('recommendation_inconsistencies',)
2025-04-25 13:22:03,599 - dbp.database.alembic_manager - INFO - Existing tables before migration: ['alembic_version', 'projects', 'documents', 'document_relationships', 'functions', 'classes', 'design_decisions', 'change_records', 'inconsistencies', 'recommendations', 'suggested_changes', 'developer_decisions', 'schema_version', 'doc_relationships', 'inconsistency_records', 'recommendation_records', 'inconsistency_documents', 'recommendation_inconsistencies']
INFO  [sqlalchemy.engine.Engine] COMMIT
2025-04-25 13:22:03,599 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-04-25 13:22:03,600 - dbp.database.alembic_manager - INFO - Upgrading database schema to latest version...
2025-04-25 13:22:03,600 - dbp.database.alembic_manager - INFO - Running migration with enhanced logging...
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.


--- SERVER START ATTEMPT AT 2025-04-25 14:38:09 ---

2025-04-25 14:38:10,242 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 14:38:10,242 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 14:38:10,242 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 14:38:10,242 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745584690.242876
2025-04-25 14:38:10,243 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 14:38:10,243 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139920821114560, name=watchdog_monitor, is_daemon=True
2025-04-25 14:38:10,244 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 14:38:10,244 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745584690.2442293
2025-04-25 14:38:10,244 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:38:10,244 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 14:38:10,244 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 2: Waiting for activity
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 14:38:10,245 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 14:38:10,246 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 14:38:10,246 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 14:38:10,246 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 14:38:10,246 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 14:38:10,247 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 14:38:10,247 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 14:38:10,248 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 14:38:10,248 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 14:38:10,248 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:38:10,249 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 14:38:10,250 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 14:38:10,250 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 14:38:10,250 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 14:38:10,250 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 14:38:10,250 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 14:38:10,250 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 14:38:10,250 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 14:38:10,250 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 14:38:10,250 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 14:38:10,250 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 14:38:10,250 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:38:10,253 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 14:38:10,253 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 14:38:10,257 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 14:38:10,257 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 14:38:10,257 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 14:38:10,257 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 14:38:10,257 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 14:38:10,257 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 14:38:10,257 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 14:38:10,258 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 14:38:10,258 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 14:38:10,258 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 14:38:10,258 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 14:38:10,258 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 14:38:10,258 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 14:38:10,258 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 14:38:10,258 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 14:38:10,258 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 14:38:10,258 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 14:38:10,258 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 14:38:10,258 - dbp.mcp_server.__main__ - INFO - Watchdog will remain active to monitor for deadlocks during operation
2025-04-25 14:38:10,344 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 14:38:30,250 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 20.0s (threshold: 20s)
2025-04-25 14:38:30,251 - dbp.core.watchdog - WARNING - WATCHDOG THRESHOLD EXCEEDED: Preparing to take action
2025-04-25 14:38:30,337 - dbp.core.watchdog - CRITICAL - WATCHDOG TRIGGERED: No activity for 20.0 seconds (timeout: 20s)
2025-04-25 14:38:30,337 - dbp.core.watchdog - CRITICAL - Process appears to be stuck or deadlocked
2025-04-25 14:38:30,337 - dbp.core.watchdog - CRITICAL - Last activity: 2025-04-25 14:38:10
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - ============= WATCHDOG TRIGGERED: ALL THREAD STACK TRACES =============
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - Thread MainThread (id: 139920887599232, MAIN THREAD):
  Frame 0: <frozen runpy>:198 in _run_module_as_main
    <no source>
  Frame 1: <frozen runpy>:88 in _run_code
    <no source>
  Frame 2: /home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py:605 in <module>
    sys.exit(main())
    Local variables:
      threading = <module 'threading' from '/usr/lib/python3.12/threading.py'>
  Frame 3: /home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py:528 in main
    time.sleep(1)
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - ---------------------------------------------------
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - Thread watchdog_monitor (id: 139920821114560):
  Frame 0: /usr/lib/python3.12/threading.py:1030 in _bootstrap [THREADING]
    self._bootstrap_inner()
    Local variables:
      self = Thread
  Frame 1: /usr/lib/python3.12/threading.py:1073 in _bootstrap_inner [THREADING]
    self.run()
    Local variables:
      self = Thread
  Frame 2: /usr/lib/python3.12/threading.py:1010 in run [THREADING]
    self._target(*self._args, **self._kwargs)
    Local variables:
      self = Thread
  Frame 3: /home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py:174 in watchdog_monitor
    process_info = get_process_diagnostics()
  Frame 4: /home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py:397 in get_process_diagnostics [WAITING]
    frame_info = inspect.getframeinfo(current_frame)
    Local variables:
      thread_info = ['MainThread (id=139920887599232, daemon=False, alive=True)', 'watchdog_monitor (id=139920821114560, daemon=True, alive=True)']
      thread_map = {139920887599232: <_MainThread(MainThread, started 139920887599232)>, 139920821114560: <Thread(watchdog_monitor, started daemon 139920821114560)>}
      thread = <Thread(watchdog_monitor, started daemon 139920821114560)>
      waiting_threads = [{'thread_id': 139920821114560, 'thread_name': 'watchdog_monitor', 'wait_info': {'function': 'get_process_diagnostics', 'file': '/home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py', 'line': 3
      main_thread_trace = None
      thread_id = 139920821114560
      thread_name = watchdog_monitor
      is_main_thread = False
      thread_obj = <Thread(watchdog_monitor, started daemon 139920821114560)>
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - ---------------------------------------------------
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - ============= ADDITIONAL DIAGNOSTIC INFORMATION =============
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - Active Threads:
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL -   MainThread (id=139920887599232, daemon=False, alive=True)
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL -   watchdog_monitor (id=139920821114560, daemon=True, alive=True)
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - Resource Info: Unable to get system resources: No module named 'psutil'
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - Waiting Threads Summary:
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL -   watchdog_monitor (id: 139920821114560) waiting in get_process_diagnostics
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL - Detailed Wait Information:
2025-04-25 14:38:30,338 - dbp.core.watchdog - CRITICAL -   Thread watchdog_monitor (id: 139920821114560)
  Function: get_process_diagnostics
  File: /home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py:345
2025-04-25 14:38:30,339 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 14:38:30,339 - dbp.mcp_server.__main__ - WARNING - Exit source: Watchdog thread
2025-04-25 14:38:30,339 - dbp.mcp_server.__main__ - WARNING - Exit reason: Watchdog triggered after 20.0s of inactivity


--- SERVER START ATTEMPT AT 2025-04-25 14:40:49 ---

2025-04-25 14:40:50,346 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 14:40:50,346 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 14:40:50,347 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 14:40:50,347 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 14:40:50,347 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745584850.3472915
2025-04-25 14:40:50,347 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 14:40:50,348 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140521253041856, name=watchdog_monitor, is_daemon=True
2025-04-25 14:40:50,348 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745584850.3481216
2025-04-25 14:40:50,348 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 14:40:50,348 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 14:40:50,349 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 14:40:50,349 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 14:40:50,349 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 14:40:50,349 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 14:40:50,349 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 14:40:50,349 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:40:50,349 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 14:40:50,350 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 14:40:50,350 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 14:40:50,350 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:40:50,350 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 14:40:50,351 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 14:40:50,352 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 14:40:50,352 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 14:40:50,352 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 14:40:50,352 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 14:40:50,352 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 14:40:50,352 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 14:40:50,352 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 14:40:50,352 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 14:40:50,352 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 14:40:50,352 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 14:40:50,353 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 14:40:50,353 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 14:40:50,356 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 14:40:50,356 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 14:40:50,363 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 14:40:50,363 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 14:40:50,363 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 14:40:50,363 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 14:40:50,363 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 14:40:50,363 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 14:40:50,363 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 14:40:50,363 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 14:40:50,363 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 14:40:50,363 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 14:40:50,363 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 14:40:50,363 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 14:40:50,363 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 14:40:50,363 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 14:40:50,363 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 14:40:50,363 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 14:40:50,363 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 14:40:50,364 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 14:40:50,364 - dbp.mcp_server.__main__ - INFO - Watchdog will remain active to monitor for deadlocks during operation
2025-04-25 14:40:50,441 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 14:41:10,353 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 20.0s (threshold: 20s)
2025-04-25 14:41:10,353 - dbp.core.watchdog - WARNING - WATCHDOG THRESHOLD EXCEEDED: Preparing to take action
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - WATCHDOG TRIGGERED: No activity for 20.0 seconds (timeout: 20s)
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Process appears to be stuck or deadlocked
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Last activity: 2025-04-25 14:40:50
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - ============= WATCHDOG TRIGGERED: ALL THREAD STACK TRACES =============
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Thread MainThread (id: 140521319526528, MAIN THREAD):
  Frame 0: <frozen runpy>:198 in _run_module_as_main
    <no source>
  Frame 1: <frozen runpy>:88 in _run_code
    <no source>
  Frame 2: /home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py:605 in <module>
    sys.exit(main())
    Local variables:
      threading = <module 'threading' from '/usr/lib/python3.12/threading.py'>
  Frame 3: /home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py:528 in main
    time.sleep(1)
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - ---------------------------------------------------
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Thread watchdog_monitor (id: 140521253041856):
  Frame 0: /usr/lib/python3.12/threading.py:1030 in _bootstrap [THREADING]
    self._bootstrap_inner()
    Local variables:
      self = Thread
  Frame 1: /usr/lib/python3.12/threading.py:1073 in _bootstrap_inner [THREADING]
    self.run()
    Local variables:
      self = Thread
  Frame 2: /usr/lib/python3.12/threading.py:1010 in run [THREADING]
    self._target(*self._args, **self._kwargs)
    Local variables:
      self = Thread
  Frame 3: /home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py:174 in watchdog_monitor
    process_info = get_process_diagnostics()
  Frame 4: /home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py:397 in get_process_diagnostics [WAITING]
    frame_info = inspect.getframeinfo(current_frame)
    Local variables:
      thread_info = ['MainThread (id=140521319526528, daemon=False, alive=True)', 'watchdog_monitor (id=140521253041856, daemon=True, alive=True)']
      thread_map = {140521319526528: <_MainThread(MainThread, started 140521319526528)>, 140521253041856: <Thread(watchdog_monitor, started daemon 140521253041856)>}
      thread = <Thread(watchdog_monitor, started daemon 140521253041856)>
      waiting_threads = [{'thread_id': 140521253041856, 'thread_name': 'watchdog_monitor', 'wait_info': {'function': 'get_process_diagnostics', 'file': '/home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py', 'line': 3
      main_thread_trace = None
      thread_id = 140521253041856
      thread_name = watchdog_monitor
      is_main_thread = False
      thread_obj = <Thread(watchdog_monitor, started daemon 140521253041856)>
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - ---------------------------------------------------
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - ============= ADDITIONAL DIAGNOSTIC INFORMATION =============
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Active Threads:
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL -   MainThread (id=140521319526528, daemon=False, alive=True)
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL -   watchdog_monitor (id=140521253041856, daemon=True, alive=True)
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Resource Info: Unable to get system resources: No module named 'psutil'
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Waiting Threads Summary:
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL -   watchdog_monitor (id: 140521253041856) waiting in get_process_diagnostics
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL - Detailed Wait Information:
2025-04-25 14:41:10,404 - dbp.core.watchdog - CRITICAL -   Thread watchdog_monitor (id: 140521253041856)
  Function: get_process_diagnostics
  File: /home/jcjorel/cline-best-practices/src/dbp/core/watchdog.py:345
2025-04-25 14:41:10,404 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 14:41:10,404 - dbp.mcp_server.__main__ - WARNING - Exit source: Watchdog thread
2025-04-25 14:41:10,404 - dbp.mcp_server.__main__ - WARNING - Exit reason: Watchdog triggered after 20.0s of inactivity


--- SERVER START ATTEMPT AT 2025-04-25 15:14:03 ---

2025-04-25 15:14:05,982 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 15:14:05,982 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 15:14:05,982 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 15:14:05,983 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 15:14:05,983 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 15:14:05,984 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745586845.9838989
2025-04-25 15:14:05,984 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 15:14:05,987 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140675525158592, name=watchdog_monitor, is_daemon=True
2025-04-25 15:14:05,987 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 15:14:06,046 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:14:06,046 - dbp.mcp_server.__main__ - WARNING - Exit source: __main__.exception_exit_handler at /home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py:224
2025-04-25 15:14:06,046 - dbp.mcp_server.__main__ - WARNING - Exit reason: Unhandled exception: UnboundLocalError
2025-04-25 15:14:06,046 - dbp.mcp_server.__main__ - DEBUG - Exit traceback:
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py", line 615, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py", line 354, in main
    keep_alive()
    ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'keep_alive' where it is not associated with a value

Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py", line 615, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py", line 354, in main
    keep_alive()
    ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'keep_alive' where it is not associated with a value
2025-04-25 15:14:06,047 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:14:06,047 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 15:14:06,047 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit
2025-04-25 15:14:06,047 - dbp.mcp_server.__main__ - DEBUG - Exit traceback:
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py", line 615, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py", line 354, in main
    keep_alive()
    ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'keep_alive' where it is not associated with a value



--- SERVER START ATTEMPT AT 2025-04-25 15:17:30 ---

2025-04-25 15:17:31,970 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 15:17:31,971 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 15:17:31,971 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 15:17:31,971 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745587051.9715931
2025-04-25 15:17:31,972 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 15:17:31,972 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745587051.9723933
2025-04-25 15:17:31,972 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140011442869952, name=watchdog_monitor, is_daemon=True
2025-04-25 15:17:31,972 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 15:17:31,973 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 15:17:31,973 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 15:17:31,973 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 15:17:31,974 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 15:17:31,974 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 15:17:31,974 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 15:17:31,975 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:17:31,975 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 15:17:31,976 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:17:31,976 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:17:31,977 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:17:31,977 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 15:17:31,977 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:17:31,980 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 15:17:31,986 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 15:17:31,986 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 15:17:31,986 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 15:17:31,986 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 15:17:31,987 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:17:31,987 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:17:31,987 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:17:31,987 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 15:17:31,987 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 15:17:31,987 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 15:17:31,987 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 15:17:31,987 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 15:17:31,988 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 15:17:31,988 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 15:17:31,994 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 15:17:31,994 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 15:17:31,994 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 15:17:31,999 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 15:17:31,999 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 15:17:31,999 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 15:17:32,000 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 15:17:32,000 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 15:17:32,000 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 15:17:32,000 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 15:17:32,000 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 15:17:32,000 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 15:17:32,000 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 15:17:32,000 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 15:17:32,000 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 15:17:32,000 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 15:17:32,000 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 15:17:32,000 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 15:17:32,000 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 15:17:32,000 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 15:17:32,000 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 15:17:32,000 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 15:17:32,000 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 15:17:32,000 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:17:32,095 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 15:20:32,400 - dbp.mcp_server.__main__ - WARNING - Server health check timed out, but continuing...
2025-04-25 15:20:32,401 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 15:20:32,401 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 15:20:32,402 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 15:20:32,405 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 15:20:32,405 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully. Server will return error responses for all tool/resource requests.
2025-04-25 15:20:32,405 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 15:20:32,406 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 15:20:32,406 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 15:20:32,406 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 15:20:32,406 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 15:20:32,406 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 15:20:32,406 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 15:20:32,406 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 15:20:32,406 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 15:20:32,464 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 15:20:32,464 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 15:20:32,464 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 15:20:32,464 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 15:20:32,464 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 15:20:32,464 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 15:20:32,464 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 15:20:32,464 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 15:20:32,464 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 15:20:32,464 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 15:22:45 ---

2025-04-25 15:22:45,981 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 15:22:45,981 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 15:22:45,981 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 15:22:45,982 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745587365.9819865
2025-04-25 15:22:45,982 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 15:22:45,982 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745587365.9822936
2025-04-25 15:22:45,982 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139680137160384, name=watchdog_monitor, is_daemon=True
2025-04-25 15:22:45,982 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 15:22:45,982 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 15:22:45,982 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 15:22:45,982 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 15:22:45,983 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 15:22:45,983 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 15:22:45,983 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:22:45,983 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 15:22:45,983 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 15:22:45,984 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 15:22:45,984 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:22:45,985 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:22:45,985 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:22:45,985 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 15:22:45,986 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 15:22:45,986 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 15:22:45,986 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 15:22:45,986 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 15:22:45,986 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 15:22:45,986 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:22:45,986 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:22:45,986 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:22:45,987 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 15:22:45,987 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 15:22:45,987 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 15:22:45,987 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 15:22:45,987 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 15:22:45,987 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 15:22:45,987 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 15:22:45,990 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 15:22:45,990 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 15:22:45,990 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 15:22:45,994 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 15:22:45,994 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 15:22:45,994 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 15:22:45,994 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 15:22:45,994 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 15:22:45,994 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 15:22:45,994 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 15:22:45,994 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 15:22:45,994 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 15:22:45,994 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 15:22:45,994 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 15:22:45,994 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 15:22:45,994 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 15:22:45,994 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 15:22:45,994 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 15:22:45,994 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 15:22:45,994 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 15:22:45,994 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 15:22:45,994 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 15:22:45,994 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 15:22:45,994 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:22:46,055 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 15:25:43,936 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-25 15:25:43,936 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 15:25:43,936 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 15:25:43,936 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 15:25:43,936 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 15:25:43,936 - dbp.mcp_server - WARNING - [STANDALONE MODE] MCP server is not running.
2025-04-25 15:25:43,936 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 15:25:43,936 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 15:25:43,936 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 15:25:43,936 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 15:25:43,936 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 15:25:43,936 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 15:25:43,936 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:25:43,936 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 15:25:43,936 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 15:25:44 ---

2025-04-25 15:25:44,747 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 15:25:44,747 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 15:25:44,747 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 15:25:44,747 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 15:25:44,748 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 15:25:44,748 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745587544.7482023
2025-04-25 15:25:44,748 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 15:25:44,748 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745587544.7485843
2025-04-25 15:25:44,748 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140640398976704, name=watchdog_monitor, is_daemon=True
2025-04-25 15:25:44,748 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 15:25:44,749 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 15:25:44,749 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 15:25:44,750 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 15:25:44,750 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 15:25:44,750 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 15:25:44,750 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 15:25:44,750 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 15:25:44,750 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 15:25:44,751 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:25:44,751 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:25:44,751 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 15:25:44,751 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:25:44,754 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 15:25:44,762 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 15:25:44,762 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 15:25:44,762 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 15:25:44,762 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 15:25:44,762 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:25:44,762 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:25:44,762 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 15:25:44,762 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 15:25:44,762 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 15:25:44,763 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 15:25:44,763 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 15:25:44,763 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 15:25:44,763 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 15:25:44,763 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:25:44,769 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 15:25:44,769 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 15:25:44,769 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 15:25:44,779 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 15:25:44,779 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 15:25:44,779 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 15:25:44,779 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 15:25:44,779 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 15:25:44,779 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 15:25:44,779 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 15:25:44,779 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 15:25:44,779 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 15:25:44,779 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 15:25:44,779 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 15:25:44,779 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 15:25:44,779 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 15:25:44,779 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 15:25:44,779 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 15:25:44,779 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 15:25:44,779 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 15:25:44,779 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 15:25:44,779 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 15:25:44,779 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 15:25:44,779 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:25:44,885 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 15:28:45,233 - dbp.mcp_server.__main__ - WARNING - Server health check timed out, but continuing...
2025-04-25 15:28:45,233 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 15:28:45,233 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 15:28:45,233 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 15:28:45,234 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 15:28:45,234 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully. Server will return error responses for all tool/resource requests.
2025-04-25 15:28:45,234 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 15:28:45,234 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 15:28:45,234 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 15:28:45,234 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 15:28:45,234 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 15:28:45,234 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 15:28:45,234 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 15:28:45,234 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 15:28:45,234 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 15:28:45,247 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 15:28:45,247 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 15:28:45,247 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 15:28:45,247 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 15:28:45,247 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 15:28:45,247 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 15:28:45,247 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 15:28:45,247 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 15:28:45,247 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 15:28:45,247 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 15:38:54 ---

2025-04-25 15:38:55,419 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 15:38:55,420 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 15:38:55,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 15:38:55,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 15:38:55,420 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 15:38:55,421 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 15:38:55,421 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 15:38:55,421 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 15:38:55,421 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 15:38:55,421 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 15:38:55,421 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 15:38:55,421 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 15:38:55,421 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745588335.4214892
2025-04-25 15:38:55,422 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 15:38:55,422 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745588335.4222705
2025-04-25 15:38:55,422 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139859626870464, name=watchdog_monitor, is_daemon=True
2025-04-25 15:38:55,423 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 15:38:55,423 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 15:38:55,424 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 15:38:55,424 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 15:38:55,424 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 15:38:55,425 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 15:38:55,425 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 15:38:55,425 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 15:38:55,425 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 15:38:55,425 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 15:38:55,426 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 15:38:55,426 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 15:38:55,426 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 15:38:55,426 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 15:38:55,426 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 15:38:55,426 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 15:38:55,427 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 15:38:55,427 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 15:38:55,428 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 15:38:55,428 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:38:55,428 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 15:38:55,429 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 15:38:55,429 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 15:38:55,429 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 15:38:55,429 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 15:38:55,429 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:38:55,429 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:38:55,430 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:38:55,430 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 15:38:55,432 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 15:38:55,432 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 15:38:55,432 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 15:38:55,432 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 15:38:55,433 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 15:38:55,433 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:38:55,433 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:38:55,433 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:38:55,433 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 15:38:55,433 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 15:38:55,433 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 15:38:55,433 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 15:38:55,433 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 15:38:55,433 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 15:38:55,433 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 15:38:55,440 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 15:38:55,441 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 15:38:55,441 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 15:38:55,446 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 15:38:55,446 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 15:38:55,447 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 15:38:55,447 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 15:38:55,447 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 15:38:55,447 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 15:38:55,447 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 15:38:55,447 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 15:38:55,447 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 15:38:55,447 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 15:38:55,447 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 15:38:55,447 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 15:38:55,447 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 15:38:55,448 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 15:38:55,448 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 15:38:55,448 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 15:38:55,448 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 15:38:55,449 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 15:38:55,449 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 15:38:55,449 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 15:38:55,449 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:38:55,593 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 15:41:55,903 - dbp.mcp_server.__main__ - WARNING - Server health check timed out, but continuing...
2025-04-25 15:41:55,903 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 15:41:55,903 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 15:41:55,903 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 15:41:55,904 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 15:41:55,905 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully. Server will return error responses for all tool/resource requests.
2025-04-25 15:41:55,905 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 15:41:55,905 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 15:41:55,905 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 15:41:55,905 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 15:41:55,905 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 15:41:55,905 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 15:41:55,905 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 15:41:55,905 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 15:41:55,905 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 15:41:55,921 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 15:41:55,921 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 15:41:55,921 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 15:41:55,922 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 15:41:55,922 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 15:41:55,922 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 15:41:55,922 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 15:41:55,922 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 15:41:55,922 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 15:41:55,922 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 15:53:47 ---

2025-04-25 15:53:48,207 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 15:53:48,207 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 15:53:48,207 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 15:53:48,207 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745589228.2078362
2025-04-25 15:53:48,208 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 15:53:48,208 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745589228.208314
2025-04-25 15:53:48,208 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140238713435840, name=watchdog_monitor, is_daemon=True
2025-04-25 15:53:48,208 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 15:53:48,208 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 15:53:48,208 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 15:53:48,208 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 15:53:48,208 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 15:53:48,209 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 15:53:48,209 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 15:53:48,209 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 15:53:48,210 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 15:53:48,210 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 15:53:48,210 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 15:53:48,210 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 15:53:48,211 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 15:53:48,211 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 15:53:48,211 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:53:48,211 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:53:48,211 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:53:48,211 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 15:53:48,212 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 15:53:48,213 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 15:53:48,213 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 15:53:48,213 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 15:53:48,213 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 15:53:48,213 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 15:53:48,213 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 15:53:48,213 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 15:53:48,213 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 15:53:48,213 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 15:53:48,213 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 15:53:48,213 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 15:53:48,213 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 15:53:48,213 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 15:53:48,213 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:53:48,218 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 15:53:48,218 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 15:53:48,218 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 15:53:48,222 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_general_query initialized - will return standardized error responses
2025-04-25 15:53:48,222 - dbp.mcp_server.tools - WARNING - [STANDALONE MODE] dbp_commit_message initialized - will return standardized error responses
2025-04-25 15:53:48,222 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_general_query' (GeneralQueryTool)
2025-04-25 15:53:48,222 - dbp.mcp_server.tool_registry - INFO - Registered MCP tool: 'dbp_commit_message' (CommitMessageTool)
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 15:53:48,222 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'documentation' (DocumentationResource)
2025-04-25 15:53:48,222 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'code_metadata' (CodeMetadataResource)
2025-04-25 15:53:48,222 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'inconsistencies' (InconsistencyResource)
2025-04-25 15:53:48,222 - dbp.mcp_server.resource_provider - INFO - Registered MCP resource: 'recommendations' (RecommendationResource)
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 15:53:48,222 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 15:53:48,222 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 15:53:48,222 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 15:53:48,222 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 15:53:48,222 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 15:53:48,222 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 15:53:48,222 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 15:53:48,222 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 15:53:48,296 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 15:56:48,891 - dbp.mcp_server.__main__ - WARNING - Server health check timed out, but continuing...
2025-04-25 15:56:48,892 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 15:56:48,892 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 15:56:48,892 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 15:56:48,893 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 0.0.0.0:6231 with 1 worker(s)...
2025-04-25 15:56:48,893 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 15:56:48,894 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully. Server will return error responses for all tool/resource requests.
2025-04-25 15:56:48,894 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 15:56:48,894 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 15:56:48,894 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 15:56:48,894 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 15:56:48,894 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 15:56:48,894 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 15:56:48,894 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 15:56:48,895 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 15:56:48,895 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 15:56:49,394 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 0.0.0.0:6231
2025-04-25 15:56:49,394 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 15:56:49,395 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 15:56:49,395 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 15:56:49,395 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 15:56:49,395 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 15:56:49,395 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 15:56:49,395 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 15:56:49,395 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 15:56:49,395 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 15:56:49,395 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 15:56:49,395 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 15:56:49,396 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:56:49,396 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 15:56:49,396 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 15:56:49,396 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 15:56:49,396 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 15:56:49,396 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 16:26:57 ---

Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 148, in _get_module_details
  File "<frozen runpy>", line 112, in _get_module_details
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__init__.py", line 64, in <module>
    from .server import MCPServer # Placeholder server class
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/server.py", line 120, in <module>
    class MCPServer:
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/server.py", line 134, in MCPServer
    tool_registry: ToolRegistry,
                   ^^^^^^^^^^^^
NameError: name 'ToolRegistry' is not defined


--- SERVER START ATTEMPT AT 2025-04-25 16:46:44 ---

2025-04-25 16:46:45,839 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 16:46:45,840 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 16:46:45,840 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 16:46:45,840 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745592405.8407943
2025-04-25 16:46:45,841 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 16:46:45,841 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745592405.8413894
2025-04-25 16:46:45,841 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140375343544000, name=watchdog_monitor, is_daemon=True
2025-04-25 16:46:45,842 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 16:46:45,842 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 16:46:45,842 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 16:46:45,843 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 16:46:45,843 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 16:46:45,843 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 16:46:45,844 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 16:46:45,844 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:46:45,844 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 16:46:45,845 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 16:46:45,845 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 16:46:45,846 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 16:46:45,846 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 16:46:45,846 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 16:46:45,846 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 16:46:45,846 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 16:46:45,846 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 16:46:45,846 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 16:46:45,846 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:46:45,849 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 16:46:45,850 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 16:46:45,850 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 16:46:45,850 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 16:46:45,850 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 16:46:45,850 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 16:46:45,850 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 16:46:45,850 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 16:46:45,850 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 16:46:45,850 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 16:46:45,850 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 16:46:45,850 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 16:46:45,851 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 16:46:45,851 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 16:46:45,851 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:46:45,858 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 16:46:45,858 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 16:46:45,858 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 16:46:45,859 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 16:46:45,859 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 16:46:45,860 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 16:46:45,861 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 16:46:45,861 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 16:46:45,861 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 16:46:45,862 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 16:46:45,864 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 16:46:45,865 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 16:46:45,866 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 16:46:45,867 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 16:46:45,867 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 16:46:45,867 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 16:46:45,867 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 16:46:45,867 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 16:46:45,867 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 16:46:45,867 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 16:46:45,867 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 16:46:45,867 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 16:46:45,867 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:46:45,978 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 16:47:18,001 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-25 16:47:18,001 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 16:47:18,002 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 16:47:18,002 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 16:47:18,002 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 16:47:18,002 - dbp.mcp_server - WARNING - [STANDALONE MODE] MCP server is not running.
2025-04-25 16:47:18,002 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 16:47:18,002 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 16:47:18,002 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 16:47:18,002 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 16:47:18,002 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 16:47:18,002 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 16:47:18,004 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 16:47:18,004 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 16:47:18,004 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 16:47:18 ---

2025-04-25 16:47:21,421 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 16:47:21,421 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 16:47:21,422 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 16:47:21,422 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 16:47:21,422 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745592441.4225767
2025-04-25 16:47:21,423 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 16:47:21,423 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745592441.42342
2025-04-25 16:47:21,424 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140109500491456, name=watchdog_monitor, is_daemon=True
2025-04-25 16:47:21,424 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 16:47:21,425 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 16:47:21,433 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 16:47:21,433 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 16:47:21,433 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 16:47:21,434 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 16:47:21,434 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 16:47:21,434 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 16:47:21,434 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 16:47:21,434 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 16:47:21,435 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 16:47:21,435 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:47:21,435 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 16:47:21,436 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 16:47:21,436 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 16:47:21,437 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 16:47:21,437 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 16:47:21,437 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 16:47:21,437 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 16:47:21,437 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:47:21,437 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 16:47:21,441 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 16:47:21,441 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 16:47:21,441 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 16:47:21,441 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 16:47:21,441 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 16:47:21,442 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 16:47:21,442 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 16:47:21,442 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 16:47:21,442 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 16:47:21,442 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 16:47:21,442 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 16:47:21,442 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 16:47:21,442 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 16:47:21,442 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 16:47:21,443 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:47:21,451 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 16:47:21,451 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 16:47:21,451 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 16:47:21,452 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 16:47:21,452 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 16:47:21,453 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 16:47:21,454 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 16:47:21,454 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 16:47:21,454 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 16:47:21,455 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 16:47:21,463 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 16:47:21,465 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 16:47:21,466 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 16:47:21,467 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 16:47:21,467 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 16:47:21,467 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 16:47:21,467 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 16:47:21,467 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 16:47:21,467 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 16:47:21,467 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 16:47:21,467 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 16:47:21,468 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 16:47:21,468 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:47:21,624 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 16:50:21,938 - dbp.mcp_server.__main__ - WARNING - Server health check timed out, but continuing...
2025-04-25 16:50:21,939 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 16:50:21,939 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 16:50:21,939 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 16:50:21,942 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 0.0.0.0:6231 with 1 worker(s)...
2025-04-25 16:50:21,942 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 16:50:21,946 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully. Server will return error responses for all tool/resource requests.
2025-04-25 16:50:21,946 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 16:50:21,947 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 16:50:21,947 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 16:50:21,947 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 16:50:21,947 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 16:50:21,948 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 16:50:21,949 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 16:50:21,949 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 16:50:21,949 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 16:50:22,450 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 0.0.0.0:6231
2025-04-25 16:50:22,450 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 16:50:22,450 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 16:50:22,450 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 16:50:22,450 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 16:50:22,450 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 16:50:22,450 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 16:50:22,450 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 16:50:22,450 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 16:50:22,450 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 16:50:22,450 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 16:50:22,450 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 16:50:22,450 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 16:50:22,451 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 16:50:22,451 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 16:50:22,451 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 16:50:22,451 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 16:50:22,451 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 16:50:44 ---

2025-04-25 16:50:45,112 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 16:50:45,112 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 16:50:45,112 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 16:50:45,112 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745592645.112797
2025-04-25 16:50:45,113 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 16:50:45,113 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745592645.1131625
2025-04-25 16:50:45,113 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140274178320064, name=watchdog_monitor, is_daemon=True
2025-04-25 16:50:45,113 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 16:50:45,114 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 16:50:45,114 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, startup_check=True, watchdog_timeout=20)
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 16:50:45,115 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 16:50:45,116 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 16:50:45,116 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:50:45,116 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 16:50:45,117 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 16:50:45,117 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 16:50:45,117 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 16:50:45,117 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:50:45,118 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 16:50:45,119 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 16:50:45,119 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 16:50:45,119 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 16:50:45,119 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 16:50:45,119 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 16:50:45,119 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 16:50:45,119 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 16:50:45,119 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 16:50:45,119 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 16:50:45,119 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 16:50:45,119 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 16:50:45,119 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 16:50:45,119 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 16:50:45,119 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:50:45,123 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 16:50:45,124 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 16:50:45,124 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 16:50:45,124 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 16:50:45,124 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 16:50:45,125 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 16:50:45,126 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 16:50:45,126 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 16:50:45,126 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 16:50:45,126 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 16:50:45,128 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 16:50:45,129 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 16:50:45,129 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 16:50:45,129 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 16:50:45,129 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 16:50:45,129 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 16:50:45,129 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 16:50:45,129 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 16:50:45,129 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 16:50:45,129 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 16:50:45,129 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 16:50:45,129 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 16:50:45,129 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 16:50:45,243 - dbp.mcp_server.__main__ - INFO - Performing server health check...
2025-04-25 16:53:45,521 - dbp.mcp_server.__main__ - WARNING - Server health check timed out, but continuing...
2025-04-25 16:53:45,521 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 16:53:45,521 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 16:53:45,522 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 16:53:45,523 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 0.0.0.0:6231 with 1 worker(s)...
2025-04-25 16:53:45,524 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 16:53:45,526 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully. Server will return error responses for all tool/resource requests.
2025-04-25 16:53:45,526 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 16:53:45,527 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 16:53:45,527 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 16:53:45,527 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 16:53:45,527 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 16:53:45,527 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 16:53:45,527 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 16:53:45,527 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 16:53:45,527 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 16:53:46,029 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 0.0.0.0:6231
2025-04-25 16:53:46,029 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 16:53:46,029 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 16:53:46,030 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 16:53:46,030 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 16:53:46,030 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 16:53:46,030 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 16:53:46,030 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 16:53:46,031 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 16:53:46,031 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 16:53:46,031 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 16:53:46,031 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 16:53:46,032 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 16:53:46,032 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 16:53:46,032 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 16:53:46,032 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 16:53:46,032 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 16:53:46,032 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 17:06:49 ---

2025-04-25 17:06:50,190 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 17:06:50,191 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 17:06:50,191 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 17:06:50,191 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745593610.191552
2025-04-25 17:06:50,192 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 17:06:50,193 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745593610.192954
2025-04-25 17:06:50,194 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140214380844736, name=watchdog_monitor, is_daemon=True
2025-04-25 17:06:50,195 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 17:06:50,195 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 17:06:50,195 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-25 17:06:50,196 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 17:06:50,196 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 17:06:50,197 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 17:06:50,198 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 17:06:50,198 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 17:06:50,198 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 17:06:50,198 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:06:50,198 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 17:06:50,199 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 17:06:50,200 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 17:06:50,200 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:06:50,201 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 17:06:50,201 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:06:50,201 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 17:06:50,201 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 17:06:50,201 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 17:06:50,202 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 17:06:50,202 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 17:06:50,202 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:06:50,202 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:06:50,202 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:06:50,203 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 17:06:50,204 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 17:06:50,205 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 17:06:50,205 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 17:06:50,205 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 17:06:50,205 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 17:06:50,205 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:06:50,205 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:06:50,205 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:06:50,206 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 17:06:50,206 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 17:06:50,206 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 17:06:50,206 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 17:06:50,206 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 17:06:50,206 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 17:06:50,206 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 17:06:50,216 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 17:06:50,216 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 17:06:50,216 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 17:06:50,217 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 17:06:50,217 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 17:06:50,219 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 17:06:50,220 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 17:06:50,220 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 17:06:50,220 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 17:06:50,223 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 17:06:50,224 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 17:06:50,230 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 17:06:50,231 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 17:06:50,231 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 17:06:50,231 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 17:06:50,231 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 17:06:50,231 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 17:06:50,231 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 17:06:50,231 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 17:06:50,231 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 17:06:50,231 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 17:06:50,231 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 17:06:50,231 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 17:06:50,231 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 17:06:50,231 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 17:06:50,231 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:06:50,233 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 0.0.0.0:6231 with 1 worker(s)...
2025-04-25 17:06:50,233 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 17:06:50,234 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-25 17:06:50,364 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-25 17:06:50,364 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 17:06:50,364 - dbp.mcp_server - INFO - ======================
2025-04-25 17:06:50,364 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-25 17:06:50,365 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 17:06:50,365 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 17:06:50,365 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 17:06:50,365 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 17:06:50,365 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 17:06:50,365 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 17:06:50,365 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 17:06:50,366 - dbp.mcp_server - INFO - [STANDALONE MODE] Stopping MCP server...
2025-04-25 17:06:50,366 - dbp.mcp_server.server_instance - INFO - Stopping MCP server 'dbp-mcp-server (STANDALONE MODE)'...
ERROR:    Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/starlette/routing.py", line 699, in lifespan
    await receive()
  File "/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-25 17:06:55,238 - dbp.mcp_server.server_instance - ERROR - HTTP server subsystem appears to be running but is not accepting connections on 0.0.0.0:6231
2025-04-25 17:06:55,238 - dbp.mcp_server.server_instance - INFO - Web server process stopped.
2025-04-25 17:06:55,239 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' stopped.
2025-04-25 17:06:55,239 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server stopped successfully.
2025-04-25 17:06:55,239 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 17:06:55,239 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 17:06:55,239 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 17:06:55,239 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 17:06:55,239 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 17:06:55,239 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 17:06:55,239 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 17:06:55,239 - dbp.mcp_server.__main__ - INFO - MCP server shutting down normally
2025-04-25 17:06:55,239 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 17:06:55,239 - dbp.mcp_server.__main__ - WARNING - Exit source: main() completion
2025-04-25 17:06:55,240 - dbp.mcp_server.__main__ - WARNING - Exit reason: Normal server shutdown
2025-04-25 17:06:55,240 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 17:06:55,240 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 17:06:55,240 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 17:26:43 ---

2025-04-25 17:26:45,932 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 17:26:45,933 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 17:26:45,933 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 17:26:45,933 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 17:26:45,933 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 17:26:45,934 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 17:26:45,934 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 17:26:45,934 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 17:26:45,934 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 17:26:45,934 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 17:26:45,934 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 17:26:45,934 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 17:26:45,934 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745594805.9347577
2025-04-25 17:26:45,935 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 17:26:45,935 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140120668096192, name=watchdog_monitor, is_daemon=True
2025-04-25 17:26:45,935 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 17:26:45,935 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745594805.9358072
2025-04-25 17:26:45,936 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 17:26:45,936 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-25 17:26:45,937 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 17:26:45,937 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 17:26:45,938 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 17:26:45,938 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 17:26:45,938 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 17:26:45,939 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 17:26:45,939 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 17:26:45,939 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 17:26:45,940 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 17:26:45,941 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 17:26:45,941 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 17:26:45,942 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 17:26:45,942 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 17:26:45,942 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 17:26:45,942 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 17:26:45,942 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 17:26:45,943 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 17:26:45,944 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:26:45,944 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:26:45,945 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 17:26:45,945 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:26:45,949 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 17:26:45,951 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 17:26:45,951 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 17:26:45,952 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 17:26:45,952 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 17:26:45,952 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:26:45,953 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:26:45,953 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:26:45,953 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 17:26:45,954 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 17:26:45,954 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 17:26:45,954 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 17:26:45,954 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 17:26:45,954 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 17:26:45,954 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 17:26:45,961 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 17:26:45,962 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 17:26:45,962 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 17:26:45,962 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 17:26:45,963 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 17:26:45,964 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 17:26:45,969 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 17:26:45,969 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 17:26:45,969 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 17:26:45,971 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 17:26:45,974 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 17:26:45,975 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 17:26:45,976 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 17:26:45,976 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 17:26:45,976 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 17:26:45,976 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 17:26:45,976 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 17:26:45,976 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 17:26:45,976 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 17:26:45,976 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 17:26:45,976 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 17:26:45,976 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 17:26:45,976 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 17:26:45,977 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 17:26:45,977 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 17:26:45,977 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:26:45,978 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 17:26:45,980 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-25 17:26:45,979 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 0.0.0.0:6231 with 1 worker(s)...
2025-04-25 17:26:46,320 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-25 17:26:46,320 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 17:26:46,321 - dbp.mcp_server - INFO - ======================
2025-04-25 17:26:46,321 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-25 17:26:46,321 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-25 17:26:46,488 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 0.0.0.0:6231
2025-04-25 17:27:22,481 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-25 17:27:22,482 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 17:27:22,482 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 17:27:22,482 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 17:27:22,482 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 17:27:22,482 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-25 17:27:22,482 - dbp.mcp_server - INFO - [STANDALONE MODE] Stop signal sent successfully.
2025-04-25 17:27:22,482 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 17:27:22,482 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 17:27:22,483 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 17:27:22,483 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 17:27:22,483 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 17:27:22,483 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 17:27:22,483 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 17:27:22,483 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 17:27:22,483 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 17:27:22,483 - dbp.core.lifecycle - INFO - Application not running, shutdown not needed.
2025-04-25 17:27:22,483 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 17:27:22,485 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 17:27:22,485 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 17:27:22,485 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 17:28:34 ---

2025-04-25 17:28:35,454 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 17:28:35,454 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 17:28:35,454 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 17:28:35,454 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745594915.4548995
2025-04-25 17:28:35,455 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 17:28:35,455 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745594915.455359
2025-04-25 17:28:35,455 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140549414250176, name=watchdog_monitor, is_daemon=True
2025-04-25 17:28:35,455 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 17:28:35,456 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 17:28:35,456 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 17:28:35,457 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 17:28:35,457 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 17:28:35,457 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 17:28:35,458 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 17:28:35,458 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 17:28:35,458 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:28:35,459 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:28:35,459 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 17:28:35,459 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:28:35,461 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 17:28:35,461 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 17:28:35,461 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 17:28:35,461 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 17:28:35,461 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 17:28:35,461 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:28:35,461 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:28:35,461 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 17:28:35,461 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:28:35,462 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 17:28:35,462 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 17:28:35,462 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 17:28:35,462 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 17:28:35,462 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 17:28:35,462 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 17:28:35,465 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 17:28:35,465 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 17:28:35,466 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 17:28:35,466 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 17:28:35,466 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 17:28:35,467 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 17:28:35,467 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 17:28:35,468 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 17:28:35,468 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 17:28:35,468 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 17:28:35,471 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 17:28:35,472 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 17:28:35,473 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 17:28:35,473 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 17:28:35,473 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 17:28:35,473 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 17:28:35,473 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 17:28:35,473 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 17:28:35,473 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 17:28:35,473 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 17:28:35,473 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 17:28:35,473 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 17:28:35,473 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 17:28:35,473 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 17:28:35,473 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 0.0.0.0:6231...
2025-04-25 17:28:35,473 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:28:35,475 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 0.0.0.0:6231 with 1 worker(s)...
2025-04-25 17:28:35,475 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 17:28:35,476 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-25 17:28:35,588 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-25 17:28:35,588 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 0.0.0.0:6231
2025-04-25 17:28:35,588 - dbp.mcp_server - INFO - ======================
2025-04-25 17:28:35,588 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-25 17:28:35,588 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-25 17:28:35,977 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 0.0.0.0:6231
2025-04-25 17:40:04,950 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-25 17:40:04,950 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 17:40:04,950 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 17:40:04,950 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 17:40:04,950 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 17:40:04,950 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-25 17:40:04,950 - dbp.mcp_server - INFO - [STANDALONE MODE] Stop signal sent successfully.
2025-04-25 17:40:04,950 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 17:40:04,950 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 17:40:04,950 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 17:40:04,951 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 17:40:04,951 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 17:40:04,951 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 17:40:04,951 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 17:40:04,951 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 17:40:04,951 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 17:40:04,951 - dbp.core.lifecycle - INFO - Application not running, shutdown not needed.
2025-04-25 17:40:04,951 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 17:40:04,952 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 17:40:04,952 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 17:40:04,952 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 17:40:05 ---

2025-04-25 17:40:06,522 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 17:40:06,522 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 17:40:06,523 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 17:40:06,524 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 17:40:06,524 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745595606.5240085
2025-04-25 17:40:06,524 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 17:40:06,525 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745595606.5250244
2025-04-25 17:40:06,525 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140097908995776, name=watchdog_monitor, is_daemon=True
2025-04-25 17:40:06,526 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 17:40:06,527 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 17:40:06,527 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-25 17:40:06,528 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 17:40:06,528 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 17:40:06,529 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 17:40:06,529 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 17:40:06,529 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 17:40:06,530 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 17:40:06,530 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 17:40:06,530 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 17:40:06,531 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 17:40:06,531 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 17:40:06,532 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 17:40:06,532 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 17:40:06,532 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 17:40:06,533 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:40:06,533 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 17:40:06,534 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 17:40:06,534 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 17:40:06,534 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 17:40:06,534 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 17:40:06,534 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 17:40:06,535 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 17:40:06,536 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:40:06,536 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:40:06,536 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 17:40:06,537 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:40:06,538 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 17:40:06,539 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 17:40:06,539 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 17:40:06,539 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 17:40:06,539 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 17:40:06,539 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 17:40:06,539 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 17:40:06,539 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 17:40:06,540 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:40:06,540 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 17:40:06,540 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 17:40:06,540 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 17:40:06,540 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 17:40:06,540 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 17:40:06,541 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 17:40:06,550 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 17:40:06,550 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 17:40:06,551 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 17:40:06,551 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 17:40:06,551 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-25 17:40:06,552 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_commit_message
2025-04-25 17:40:06,553 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 2/2 MCP tools.
2025-04-25 17:40:06,553 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 17:40:06,553 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 17:40:06,554 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 17:40:06,557 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 17:40:06,558 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 17:40:06,559 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 17:40:06,559 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-25 17:40:06,559 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 17:40:06,559 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 17:40:06,559 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 17:40:06,559 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 17:40:06,559 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 17:40:06,559 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 17:40:06,559 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 17:40:06,559 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 17:40:06,559 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 17:40:06,559 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 17:40:06,560 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 127.0.0.1:6231...
2025-04-25 17:40:06,560 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 17:40:06,562 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 127.0.0.1:6231 with 1 worker(s)...
2025-04-25 17:40:06,561 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 17:40:06,568 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-25 17:40:06,717 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-25 17:40:06,717 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-25 17:40:06,717 - dbp.mcp_server - INFO - ======================
2025-04-25 17:40:06,717 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-25 17:40:06,717 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-25 17:40:07,066 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 127.0.0.1:6231
2025-04-25 22:29:57,110 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-25 22:29:57,110 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-25 22:29:57,110 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-25 22:29:57,111 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-25 22:29:57,111 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-25 22:29:57,111 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-25 22:29:57,111 - dbp.mcp_server - INFO - [STANDALONE MODE] Stop signal sent successfully.
2025-04-25 22:29:57,111 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-25 22:29:57,111 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-25 22:29:57,111 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-25 22:29:57,111 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-25 22:29:57,111 - dbp.core.lifecycle - INFO - All components shut down
2025-04-25 22:29:57,111 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-25 22:29:57,111 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-25 22:29:57,111 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-25 22:29:57,111 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-25 22:29:57,111 - dbp.core.lifecycle - INFO - Application not running, shutdown not needed.
2025-04-25 22:29:57,111 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-25 22:29:57,111 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-25 22:29:57,112 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-25 22:29:57,112 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-25 22:29:57 ---

2025-04-25 22:29:58,400 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-25 22:29:58,401 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-25 22:29:58,401 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-25 22:29:58,401 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745612998.4016664
2025-04-25 22:29:58,401 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-25 22:29:58,402 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745612998.4020276
2025-04-25 22:29:58,402 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139693244212928, name=watchdog_monitor, is_daemon=True
2025-04-25 22:29:58,402 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-25 22:29:58,402 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-25 22:29:58,402 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-25 22:29:58,402 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-25 22:29:58,402 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-25 22:29:58,402 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-25 22:29:58,402 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-25 22:29:58,403 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-25 22:29:58,403 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-25 22:29:58,403 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-25 22:29:58,403 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-25 22:29:58,403 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-25 22:29:58,403 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-25 22:29:58,403 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-25 22:29:58,403 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' disabled by configuration - skipping registration
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Registered 2 components with registry
2025-04-25 22:29:58,404 - dbp.core.registry - INFO - Registering 2 components with system
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Initializing 2 components
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-25 22:29:58,404 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=False mcp_server=True
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 22:29:58,404 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 22:29:58,405 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-25 22:29:58,405 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 22:29:58,406 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-25 22:29:58,407 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-25 22:29:58,407 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-25 22:29:58,407 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-25 22:29:58,407 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-25 22:29:58,407 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-25 22:29:58,407 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-25 22:29:58,407 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-25 22:29:58,407 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-25 22:29:58,407 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-25 22:29:58,407 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-25 22:29:58,407 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-25 22:29:58,407 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-25 22:29:58,407 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-25 22:29:58,407 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 22:29:58,411 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-25 22:29:58,412 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-25 22:29:58,412 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-25 22:29:58,413 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-25 22:29:58,413 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-25 22:29:58,413 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-25 22:29:58,413 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-25 22:29:58,413 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-25 22:29:58,413 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-25 22:29:58,414 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-25 22:29:58,415 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-25 22:29:58,415 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-25 22:29:58,415 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-25 22:29:58,415 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-25 22:29:58,415 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-25 22:29:58,415 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-25 22:29:58,415 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-25 22:29:58,415 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-25 22:29:58,415 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-25 22:29:58,416 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-25 22:29:58,416 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-25 22:29:58,416 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-25 22:29:58,416 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-25 22:29:58,416 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-25 22:29:58,416 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-25 22:29:58,416 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 127.0.0.1:6231...
2025-04-25 22:29:58,417 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 127.0.0.1:6231 with 1 worker(s)...
2025-04-25 22:29:58,418 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-25 22:29:58,418 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-25 22:29:58,476 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-25 22:29:58,476 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-25 22:29:58,476 - dbp.mcp_server - INFO - ======================
2025-04-25 22:29:58,476 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-25 22:29:58,476 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-25 22:29:58,918 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 127.0.0.1:6231
2025-04-26 01:32:47,186 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-26 01:32:47,189 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-26 01:32:47,190 - dbp.core.lifecycle - INFO - Shutting down 2 components
2025-04-26 01:32:47,190 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-26 01:32:47,191 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:32:47,191 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:32:47,192 - dbp.mcp_server - INFO - [STANDALONE MODE] Stop signal sent successfully.
2025-04-26 01:32:47,193 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-26 01:32:47,193 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-26 01:32:47,194 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:32:47,194 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:32:47,194 - dbp.core.lifecycle - INFO - All components shut down
2025-04-26 01:32:47,194 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-26 01:32:47,195 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-26 01:32:47,196 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-26 01:32:47,196 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-26 01:32:47,196 - dbp.core.lifecycle - INFO - Application not running, shutdown not needed.
2025-04-26 01:32:47,196 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-26 01:32:47,217 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:32:47,217 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:32:47,217 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:32:48 ---

LLMCoordinatorComponent ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py). Check package structure.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 99, in <module>
    from .general_query_tool import GeneralQueryMCPTool
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/general_query_tool.py", line 70, in <module>
    from src.dbp.llm_coordinator.job_manager import JobManager, Job, JobStatus
ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py)
LLMCoordinatorComponent ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py). Check package structure.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 99, in <module>
    from .general_query_tool import GeneralQueryMCPTool
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/general_query_tool.py", line 70, in <module>
    from src.dbp.llm_coordinator.job_manager import JobManager, Job, JobStatus
ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py)
2025-04-26 01:32:49,247 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:32:49,248 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:32:49,248 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:32:49,248 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745623969.2486672
2025-04-26 01:32:49,248 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:32:49,249 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745623969.2490294
2025-04-26 01:32:49,249 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140201736648384, name=watchdog_monitor, is_daemon=True
2025-04-26 01:32:49,249 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:32:49,249 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:32:49,249 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:32:49,250 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:32:49,251 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:32:49,251 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:32:49,251 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:32:49,252 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:32:49,252 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:32:49,252 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:32:49,254 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:32:49,254 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:32:49,254 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:32:49,254 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:32:49,254 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:32:49,254 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:32:49,254 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:32:49,255 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:32:49,255 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:32:49,255 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:32:49,255 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:32:49,255 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:32:49,255 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:32:49,255 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:32:49,255 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:32:49,258 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:32:49,258 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:32:49,258 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:32:49,260 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:32:49,260 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:32:49,260 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:32:49,260 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-26 01:32:49,260 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 01:32:49,260 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 01:32:49,261 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 01:32:49,262 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 01:32:49,262 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 01:32:49,262 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 01:32:49,262 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 01:32:49,262 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 01:32:49,262 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 01:32:49,262 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 01:32:49,262 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:32:49,262 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:32:49,262 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:32:49,263 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:32:49,263 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 01:32:49,263 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:32:49,263 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': object() takes no arguments
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments
2025-04-26 01:32:49,263 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-26 01:32:49,263 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -       self._request_handler = RequestHandler(
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -                               ^^^^^^^^^^^^^^^
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -   TypeError: object() takes no arguments
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:32:49,264 - dbp.core.lifecycle - WARNING - Rolling back initialization of 2 components
2025-04-26 01:32:49,264 - dbp.core.lifecycle - INFO - Rolling back component 'mcp_server'...
2025-04-26 01:32:49,264 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:32:49,264 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:32:49,264 - dbp.core.lifecycle - ERROR - Error during rollback of component 'mcp_server': [STANDALONE MODE] No active server event to signal for component 'mcp_server'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 493, in _rollback
    component.shutdown()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 706, in shutdown
    self.stop_server() # Ensure server is stopped
    ^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 692, in stop_server
    raise RuntimeError(f"[STANDALONE MODE] No active server event to signal for component '{self.name}'")
RuntimeError: [STANDALONE MODE] No active server event to signal for component 'mcp_server'
2025-04-26 01:32:49,264 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:32:49,264 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:32:49,264 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:32:49,264 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator']
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:32:49,265 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:33:51 ---

LLMCoordinatorComponent ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py). Check package structure.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 99, in <module>
    from .general_query_tool import GeneralQueryMCPTool
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/general_query_tool.py", line 70, in <module>
    from src.dbp.llm_coordinator.job_manager import JobManager, Job, JobStatus
ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py)
LLMCoordinatorComponent ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py). Check package structure.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 99, in <module>
    from .general_query_tool import GeneralQueryMCPTool
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/general_query_tool.py", line 70, in <module>
    from src.dbp.llm_coordinator.job_manager import JobManager, Job, JobStatus
ImportError: cannot import name 'Job' from 'src.dbp.llm_coordinator.job_manager' (/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py)
2025-04-26 01:33:54,017 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:33:54,017 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:33:54,018 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:33:54,018 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:33:54,018 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:33:54,018 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745624034.018112
2025-04-26 01:33:54,018 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:33:54,018 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745624034.0188386
2025-04-26 01:33:54,019 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140463661024960, name=watchdog_monitor, is_daemon=True
2025-04-26 01:33:54,020 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:33:54,020 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:33:54,020 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:33:54,022 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:33:54,022 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:33:54,023 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:33:54,023 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:33:54,024 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:33:54,024 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:33:54,024 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:33:54,024 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:33:54,024 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:33:54,024 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:33:54,025 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:33:54,025 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:33:54,025 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:33:54,025 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:33:54,025 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:33:54,025 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:33:54,026 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:33:54,027 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:33:54,027 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:33:54,027 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:33:54,027 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:33:54,027 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:33:54,027 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:33:54,027 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:33:54,028 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:33:54,028 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:33:54,028 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:33:54,028 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:33:54,029 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:33:54,029 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:33:54,029 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:33:54,029 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:33:54,030 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:33:54,032 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:33:54,033 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:33:54,033 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:33:54,033 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:33:54,033 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:33:54,033 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:33:54,034 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:33:54,034 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:33:54,034 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:33:54,034 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:33:54,034 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:33:54,035 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:33:54,035 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:33:54,035 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:33:54,035 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:33:54,045 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:33:54,045 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:33:54,045 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:33:54,048 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:33:54,048 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:33:54,049 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:33:54,050 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-26 01:33:54,050 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 01:33:54,050 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 01:33:54,051 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 01:33:54,052 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 01:33:54,053 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 01:33:54,053 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 01:33:54,053 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 01:33:54,053 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 01:33:54,053 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 01:33:54,053 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 01:33:54,053 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:33:54,053 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:33:54,053 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:33:54,054 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 01:33:54,054 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:33:54,054 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:33:54,054 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': object() takes no arguments
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments
2025-04-26 01:33:54,055 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-26 01:33:54,055 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:33:54,056 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -       self._request_handler = RequestHandler(
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -                               ^^^^^^^^^^^^^^^
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -   TypeError: object() takes no arguments
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
2025-04-26 01:33:54,057 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:33:54,058 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:33:54,058 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:33:54,058 - dbp.core.lifecycle - WARNING - Rolling back initialization of 2 components
2025-04-26 01:33:54,058 - dbp.core.lifecycle - INFO - Rolling back component 'mcp_server'...
2025-04-26 01:33:54,059 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:33:54,059 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:33:54,059 - dbp.core.lifecycle - ERROR - Error during rollback of component 'mcp_server': [STANDALONE MODE] No active server event to signal for component 'mcp_server'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 493, in _rollback
    component.shutdown()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 706, in shutdown
    self.stop_server() # Ensure server is stopped
    ^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 692, in stop_server
    raise RuntimeError(f"[STANDALONE MODE] No active server event to signal for component '{self.name}'")
RuntimeError: [STANDALONE MODE] No active server event to signal for component 'mcp_server'
2025-04-26 01:33:54,060 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:33:54,060 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:33:54,060 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:33:54,060 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:33:54,062 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:33:54,062 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator']
2025-04-26 01:33:54,063 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:33:54,063 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:33:54,063 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:33:54,063 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:33:54,063 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:33:54,063 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:40:33 ---

Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 148, in _get_module_details
  File "<frozen runpy>", line 112, in _get_module_details
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__init__.py", line 64, in <module>
    from .server import MCPServer # Placeholder server class
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/server.py", line 79, in <module>
    from src.dbp.mcp_server.mcp.session import SessionManager, MCPSession, create_anonymous_session
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__init__.py", line 65, in <module>
    from .component import MCPServerComponent, ComponentNotInitializedError
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 124, in <module>
    from .resources import (
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/resources.py", line 63, in <module>
    from ..doc_relationships.component import DocRelationshipsComponent
  File "/home/jcjorel/cline-best-practices/src/dbp/doc_relationships/__init__.py", line 60, in <module>
    from .analyzer import RelationshipAnalyzer
  File "/home/jcjorel/cline-best-practices/src/dbp/doc_relationships/analyzer.py", line 56, in <module>
    from ..internal_tools.file_access import FileAccessService # Example dependency
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/internal_tools/__init__.py", line 61, in <module>
    from .execution_engine import InternalToolExecutionEngine, InternalToolError
  File "/home/jcjorel/cline-best-practices/src/dbp/internal_tools/execution_engine.py", line 67, in <module>
    from ..llm_coordinator.data_models import InternalToolJob # For type hinting
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/__init__.py", line 66, in <module>
    from .job_manager import JobManager, JobExecutionError
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py", line 222, in <module>
    class JobManager:
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/job_manager.py", line 459, in JobManager
    def submit_job(self, job: Union[Job, InternalToolJob]) -> str:
                              ^^^^^
NameError: name 'Union' is not defined


--- SERVER START ATTEMPT AT 2025-04-26 01:41:36 ---

LLMCoordinatorComponent ImportError: cannot import name 'DBPBaseException' from 'src.dbp.core.exceptions' (/home/jcjorel/cline-best-practices/src/dbp/core/exceptions.py). Check package structure.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 99, in <module>
    from .general_query_tool import GeneralQueryMCPTool
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/general_query_tool.py", line 71, in <module>
    from src.dbp.core.exceptions import DBPBaseException
ImportError: cannot import name 'DBPBaseException' from 'src.dbp.core.exceptions' (/home/jcjorel/cline-best-practices/src/dbp/core/exceptions.py)
LLMCoordinatorComponent ImportError: cannot import name 'DBPBaseException' from 'src.dbp.core.exceptions' (/home/jcjorel/cline-best-practices/src/dbp/core/exceptions.py). Check package structure.
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 99, in <module>
    from .general_query_tool import GeneralQueryMCPTool
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/general_query_tool.py", line 71, in <module>
    from src.dbp.core.exceptions import DBPBaseException
ImportError: cannot import name 'DBPBaseException' from 'src.dbp.core.exceptions' (/home/jcjorel/cline-best-practices/src/dbp/core/exceptions.py)
2025-04-26 01:41:37,860 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:41:37,860 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:41:37,861 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:41:37,861 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:41:37,861 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:41:37,861 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745624497.861071
2025-04-26 01:41:37,861 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:41:37,861 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140214776387264, name=watchdog_monitor, is_daemon=True
2025-04-26 01:41:37,861 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745624497.8619127
2025-04-26 01:41:37,862 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:41:37,862 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:41:37,863 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:41:37,863 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:41:37,863 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:41:37,863 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:41:37,863 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:41:37,864 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:41:37,865 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:41:37,865 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:41:37,865 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:41:37,866 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:41:37,866 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:41:37,866 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:41:37,866 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:41:37,866 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:41:37,867 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:41:37,867 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:41:37,869 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:41:37,870 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:41:37,870 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:41:37,870 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:41:37,870 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:41:37,870 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:41:37,870 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:41:37,870 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:41:37,870 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:41:37,870 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:41:37,870 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:41:37,870 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:41:37,870 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:41:37,870 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:41:37,871 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:41:37,876 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:41:37,876 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:41:37,876 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:41:37,878 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:41:37,878 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:41:37,878 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:41:37,878 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-26 01:41:37,878 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 01:41:37,878 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 01:41:37,879 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 01:41:37,880 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 01:41:37,881 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 01:41:37,881 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 01:41:37,882 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 01:41:37,882 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 01:41:37,882 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 01:41:37,882 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 01:41:37,882 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:41:37,882 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:41:37,882 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:41:37,882 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 01:41:37,882 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:41:37,882 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': object() takes no arguments
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments
2025-04-26 01:41:37,882 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-26 01:41:37,882 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:41:37,883 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -       self._request_handler = RequestHandler(
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -                               ^^^^^^^^^^^^^^^
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -   TypeError: object() takes no arguments
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:41:37,884 - dbp.core.lifecycle - WARNING - Rolling back initialization of 2 components
2025-04-26 01:41:37,884 - dbp.core.lifecycle - INFO - Rolling back component 'mcp_server'...
2025-04-26 01:41:37,884 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:41:37,884 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:41:37,884 - dbp.core.lifecycle - ERROR - Error during rollback of component 'mcp_server': [STANDALONE MODE] No active server event to signal for component 'mcp_server'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 493, in _rollback
    component.shutdown()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 706, in shutdown
    self.stop_server() # Ensure server is stopped
    ^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 692, in stop_server
    raise RuntimeError(f"[STANDALONE MODE] No active server event to signal for component '{self.name}'")
RuntimeError: [STANDALONE MODE] No active server event to signal for component 'mcp_server'
2025-04-26 01:41:37,885 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:41:37,885 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:41:37,885 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:41:37,885 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 188, in initialize
    self._request_handler = RequestHandler(
                            ^^^^^^^^^^^^^^^
TypeError: object() takes no arguments

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator']
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:41:37,886 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:46:35 ---

/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 01:46:36,729 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:46:36,730 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:46:36,730 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:46:36,730 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745624796.7307792
2025-04-26 01:46:36,731 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:46:36,731 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140040254527168, name=watchdog_monitor, is_daemon=True
2025-04-26 01:46:36,731 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:46:36,731 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745624796.7319214
2025-04-26 01:46:36,732 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:46:36,732 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:46:36,732 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:46:36,732 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:46:36,732 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:46:36,732 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:46:36,732 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:46:36,732 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 2: Waiting for activity
2025-04-26 01:46:36,733 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:46:36,733 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:46:36,733 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:46:36,733 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:46:36,733 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:46:36,733 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:46:36,733 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:46:36,733 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:46:36,733 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:46:36,734 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:46:36,734 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:46:36,735 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:46:36,735 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:46:36,735 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:46:36,736 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:46:36,737 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:46:36,737 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:46:36,737 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:46:36,737 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:46:36,737 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:46:36,740 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:46:36,741 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:46:36,741 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:46:36,741 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:46:36,741 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:46:36,741 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:46:36,741 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:46:36,741 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:46:36,741 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:46:36,741 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:46:36,741 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:46:36,742 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:46:36,741 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:46:36,742 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:46:36,742 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:46:36,746 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:46:36,746 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:46:36,746 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:46:36,747 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:46:36,747 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:46:36,748 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:46:36,748 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-26 01:46:36,748 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 01:46:36,748 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 01:46:36,749 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 01:46:36,750 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 01:46:36,750 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 01:46:36,751 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 01:46:36,751 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 01:46:36,751 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 01:46:36,751 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 01:46:36,751 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 01:46:36,751 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:46:36,751 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:46:36,751 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:46:36,752 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:46:36,752 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 01:46:36,752 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-26 01:46:36,753 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator - INFO - Registering dbp_general_query with MCP server...
2025-04-26 01:46:36,753 - dbp.core.lifecycle.llm_coordinator - ERROR - Failed to register GeneralQueryMCPTool with MCP server: 'MCPServer' object has no attribute 'register_tool'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_tool(general_query_tool)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MCPServer' object has no attribute 'register_tool'. Did you mean: '_registered_tools'?
2025-04-26 01:46:36,756 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': Failed to register GeneralQueryMCPTool with MCP server: 'MCPServer' object has no attribute 'register_tool'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_tool(general_query_tool)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MCPServer' object has no attribute 'register_tool'. Did you mean: '_registered_tools'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: 'MCPServer' object has no attribute 'register_tool'
2025-04-26 01:46:36,757 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-26 01:46:36,757 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -       mcp_server._server.register_tool(general_query_tool)
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -   AttributeError: 'MCPServer' object has no attribute 'register_tool'. Did you mean: '_registered_tools'?
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
2025-04-26 01:46:36,758 - dbp.core.lifecycle - ERROR -       self._register_general_query_mcp_tool(dependencies)
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -       raise RuntimeError(error_msg) from e
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: 'MCPServer' object has no attribute 'register_tool'
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:46:36,759 - dbp.core.lifecycle - WARNING - Rolling back initialization of 2 components
2025-04-26 01:46:36,759 - dbp.core.lifecycle - INFO - Rolling back component 'mcp_server'...
2025-04-26 01:46:36,759 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:46:36,759 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:46:36,759 - dbp.core.lifecycle - ERROR - Error during rollback of component 'mcp_server': [STANDALONE MODE] No active server event to signal for component 'mcp_server'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_tool(general_query_tool)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MCPServer' object has no attribute 'register_tool'. Did you mean: '_registered_tools'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: 'MCPServer' object has no attribute 'register_tool'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 493, in _rollback
    component.shutdown()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 706, in shutdown
    self.stop_server() # Ensure server is stopped
    ^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 692, in stop_server
    raise RuntimeError(f"[STANDALONE MODE] No active server event to signal for component '{self.name}'")
RuntimeError: [STANDALONE MODE] No active server event to signal for component 'mcp_server'
2025-04-26 01:46:36,760 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:46:36,760 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:46:36,760 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:46:36,760 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_tool(general_query_tool)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MCPServer' object has no attribute 'register_tool'. Did you mean: '_registered_tools'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: 'MCPServer' object has no attribute 'register_tool'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:46:36,762 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:46:36,762 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator']
2025-04-26 01:46:36,762 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:46:36,762 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:46:36,762 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:46:36,763 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:46:36,763 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:46:36,763 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:49:31 ---

/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 01:49:33,044 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:49:33,044 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:49:33,044 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:49:33,045 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:49:33,045 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745624973.0452874
2025-04-26 01:49:33,045 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:49:33,045 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745624973.0456154
2025-04-26 01:49:33,045 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:49:33,045 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139856658073280, name=watchdog_monitor, is_daemon=True
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:49:33,046 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:49:33,046 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:49:33,047 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:49:33,047 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:49:33,047 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:49:33,048 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:49:33,048 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:49:33,048 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:49:33,049 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:49:33,049 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:49:33,049 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:49:33,049 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:49:33,049 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:49:33,049 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:49:33,052 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:49:33,053 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:49:33,053 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:49:33,053 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:49:33,053 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:49:33,053 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:49:33,053 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:49:33,053 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:49:33,053 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:49:33,053 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:49:33,053 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:49:33,053 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:49:33,053 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:49:33,054 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:49:33,054 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:49:33,059 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:49:33,059 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:49:33,059 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:49:33,061 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:49:33,061 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:49:33,061 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:49:33,062 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-26 01:49:33,062 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 01:49:33,062 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 01:49:33,062 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 01:49:33,063 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 01:49:33,063 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 01:49:33,064 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 01:49:33,064 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 01:49:33,064 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 01:49:33,064 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 01:49:33,064 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 01:49:33,064 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:49:33,064 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:49:33,064 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:49:33,064 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-26 01:49:33,064 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-26 01:49:33,064 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-26 01:49:33,065 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-26 01:49:33,065 - dbp.core.lifecycle.llm_coordinator - INFO - Registering dbp_general_query with MCP server...
2025-04-26 01:49:33,065 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:49:33,065 - dbp.core.lifecycle.llm_coordinator - ERROR - Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:49:33,065 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:49:33,066 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-26 01:49:33,067 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -       mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -   TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -       self._register_general_query_mcp_tool(dependencies)
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -       raise RuntimeError(error_msg) from e
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:49:33,069 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:49:33,070 - dbp.core.lifecycle - WARNING - Rolling back initialization of 2 components
2025-04-26 01:49:33,070 - dbp.core.lifecycle - INFO - Rolling back component 'mcp_server'...
2025-04-26 01:49:33,070 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:49:33,070 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:49:33,070 - dbp.core.lifecycle - ERROR - Error during rollback of component 'mcp_server': [STANDALONE MODE] No active server event to signal for component 'mcp_server'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 493, in _rollback
    component.shutdown()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 706, in shutdown
    self.stop_server() # Ensure server is stopped
    ^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 692, in stop_server
    raise RuntimeError(f"[STANDALONE MODE] No active server event to signal for component '{self.name}'")
RuntimeError: [STANDALONE MODE] No active server event to signal for component 'mcp_server'
2025-04-26 01:49:33,070 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:49:33,071 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:49:33,071 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:49:33,071 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 298, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 221, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 306, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 233, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:49:33,072 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:49:33,072 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator']
2025-04-26 01:49:33,073 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:49:33,073 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:49:33,073 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:49:33,073 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:49:33,073 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:49:33,073 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:51:24 ---

/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 01:51:25,990 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:51:25,991 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:51:25,991 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:51:25,991 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745625085.9916136
2025-04-26 01:51:25,992 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:51:25,992 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745625085.9923196
2025-04-26 01:51:25,992 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140648510080704, name=watchdog_monitor, is_daemon=True
2025-04-26 01:51:25,992 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:51:25,993 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:51:25,993 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:51:25,994 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:51:25,994 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:51:25,994 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:51:25,994 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:51:25,994 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:51:25,994 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:51:25,994 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:51:25,995 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:51:25,996 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:51:25,996 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:51:25,996 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:51:25,997 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:51:25,997 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:51:25,998 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:51:26,001 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:51:26,002 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:51:26,002 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:51:26,004 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:51:26,005 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:51:26,005 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:51:26,006 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:51:26,006 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:51:26,006 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:51:26,007 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:51:26,007 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:51:26,007 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:51:26,007 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:51:26,007 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:51:26,007 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:51:26,012 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:51:26,012 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:51:26,012 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:51:26,014 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:51:26,014 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_general_query': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:51:26,015 - dbp.mcp_server - ERROR - Failed to register MCP tool 'dbp_commit_message': MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 453, in _register_tools
    self._server.register_mcp_tool(tool_name, tool_handler)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:51:26,015 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 0/2 MCP tools.
2025-04-26 01:51:26,015 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 01:51:26,015 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 01:51:26,016 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 01:51:26,018 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 01:51:26,019 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 01:51:26,021 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 01:51:26,021 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 01:51:26,021 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 01:51:26,022 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 01:51:26,022 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 01:51:26,022 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:51:26,022 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:51:26,022 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:51:26,022 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:51:26,023 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-26 01:51:26,024 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator - INFO - Registering dbp_general_query with MCP server...
2025-04-26 01:51:26,024 - dbp.core.lifecycle.llm_coordinator - ERROR - Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 291, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:51:26,025 - dbp.core.lifecycle.llm_coordinator - ERROR - Initialization failed for component 'llm_coordinator': Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 291, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 214, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 299, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:51:26,027 - dbp.core.lifecycle - ERROR - Failed to initialize component 'llm_coordinator': Failed to initialize llm_coordinator
2025-04-26 01:51:26,027 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 291, in _register_general_query_mcp_tool
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -       mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 214, in initialize
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -       self._register_general_query_mcp_tool(dependencies)
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 299, in _register_general_query_mcp_tool
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -       raise RuntimeError(error_msg) from e
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 226, in initialize
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR - Component 'llm_coordinator' debug info: {'class_name': 'LLMCoordinatorComponent', 'module': 'dbp.llm_coordinator.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:51:26,028 - dbp.core.lifecycle - WARNING - Rolling back initialization of 2 components
2025-04-26 01:51:26,028 - dbp.core.lifecycle - INFO - Rolling back component 'mcp_server'...
2025-04-26 01:51:26,028 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 01:51:26,028 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 01:51:26,028 - dbp.core.lifecycle - ERROR - Error during rollback of component 'mcp_server': [STANDALONE MODE] No active server event to signal for component 'mcp_server'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 291, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 214, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 299, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 226, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 493, in _rollback
    component.shutdown()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 706, in shutdown
    self.stop_server() # Ensure server is stopped
    ^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 692, in stop_server
    raise RuntimeError(f"[STANDALONE MODE] No active server event to signal for component '{self.name}'")
RuntimeError: [STANDALONE MODE] No active server event to signal for component 'mcp_server'
2025-04-26 01:51:26,029 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:51:26,029 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:51:26,029 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:51:26,029 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize llm_coordinator
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 291, in _register_general_query_mcp_tool
    mcp_server._server.register_mcp_tool(general_query_tool.name, general_query_tool)
TypeError: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 214, in initialize
    self._register_general_query_mcp_tool(dependencies)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 299, in _register_general_query_mcp_tool
    raise RuntimeError(error_msg) from e
RuntimeError: Failed to register GeneralQueryMCPTool with MCP server: MCPServer.register_mcp_tool() takes 2 positional arguments but 3 were given

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/llm_coordinator/component.py", line 226, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize llm_coordinator
2025-04-26 01:51:26,030 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:51:26,030 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator']
2025-04-26 01:51:26,030 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:51:26,031 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:51:26,031 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:51:26,031 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:51:26,031 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:51:26,031 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 01:55:38 ---

/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 01:55:40,559 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 01:55:40,559 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 01:55:40,560 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 01:55:40,560 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 01:55:40,560 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 01:55:40,560 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745625340.560083
2025-04-26 01:55:40,560 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 01:55:40,560 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745625340.5605297
2025-04-26 01:55:40,560 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140082177849024, name=watchdog_monitor, is_daemon=True
2025-04-26 01:55:40,561 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 01:55:40,561 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 01:55:40,561 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 01:55:40,562 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 01:55:40,563 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 01:55:40,563 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 01:55:40,563 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 01:55:40,563 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 01:55:40,563 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 01:55:40,563 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 01:55:40,563 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:55:40,563 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 01:55:40,564 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 01:55:40,564 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:55:40,565 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:55:40,565 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 01:55:40,565 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:55:40,567 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 01:55:40,568 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 01:55:40,568 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 01:55:40,568 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 01:55:40,568 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 01:55:40,568 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 01:55:40,568 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 01:55:40,568 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 01:55:40,568 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 01:55:40,568 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 01:55:40,568 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 01:55:40,568 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 01:55:40,568 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 01:55:40,568 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 01:55:40,568 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 01:55:40,574 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 01:55:40,574 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 01:55:40,574 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 01:55:40,575 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering authorized MCP tools...
2025-04-26 01:55:40,575 - dbp.mcp_server - ERROR - Initialization failed for component 'mcp_server': Can't instantiate abstract class MCPTool without an implementation for abstract methods '_get_input_schema', '_get_output_schema', 'execute'
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 374, in initialize
    self._register_tools()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 447, in _register_tools
    MCPTool(name="dbp_general_query", description="General query tool (Standalone Mode)"),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Can't instantiate abstract class MCPTool without an implementation for abstract methods '_get_input_schema', '_get_output_schema', 'execute'
2025-04-26 01:55:40,576 - dbp.mcp_server - ERROR - Server initialization status: failed - Initialization failed - ERROR: Can't instantiate abstract class MCPTool without an implementation for abstract methods '_get_input_schema', '_get_output_schema', 'execute'
2025-04-26 01:55:40,576 - dbp.core.lifecycle - ERROR - Failed to initialize component 'mcp_server': Failed to initialize mcp_server
2025-04-26 01:55:40,576 - dbp.core.lifecycle - ERROR - Exception type: RuntimeError
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 374, in initialize
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -       self._register_tools()
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 447, in _register_tools
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -       MCPTool(name="dbp_general_query", description="General query tool (Standalone Mode)"),
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -   TypeError: Can't instantiate abstract class MCPTool without an implementation for abstract methods '_get_input_schema', '_get_output_schema', 'execute'
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -   The above exception was the direct cause of the following exception:
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -   Traceback (most recent call last):
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -       component.initialize(context, resolved_deps)
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -     File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 398, in initialize
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -       raise RuntimeError(f"Failed to initialize {self.name}") from e
2025-04-26 01:55:40,577 - dbp.core.lifecycle - ERROR -   RuntimeError: Failed to initialize mcp_server
2025-04-26 01:55:40,578 - dbp.core.lifecycle - ERROR - Component 'mcp_server' debug info: {'class_name': 'MCPServerComponent', 'module': 'dbp.mcp_server.component', 'initialized': False, 'has_logger': True}
2025-04-26 01:55:40,578 - dbp.core.lifecycle - WARNING - Rolling back initialization of 1 components
2025-04-26 01:55:40,578 - dbp.core.lifecycle - INFO - Rolling back component 'config_manager'...
2025-04-26 01:55:40,578 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 01:55:40,578 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 01:55:40,578 - dbp.core.lifecycle - CRITICAL - A critical error occurred during system startup: Failed to initialize mcp_server
Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 374, in initialize
    self._register_tools()
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 447, in _register_tools
    MCPTool(name="dbp_general_query", description="General query tool (Standalone Mode)"),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Can't instantiate abstract class MCPTool without an implementation for abstract methods '_get_input_schema', '_get_output_schema', 'execute'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jcjorel/cline-best-practices/src/dbp/core/lifecycle.py", line 384, in start
    success = self.system.initialize_all()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 405, in initialize_all
    raise e
  File "/home/jcjorel/cline-best-practices/src/dbp/core/system.py", line 360, in initialize_all
    component.initialize(context, resolved_deps)
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py", line 398, in initialize
    raise RuntimeError(f"Failed to initialize {self.name}") from e
RuntimeError: Failed to initialize mcp_server
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - CRITICAL - Failed to start components
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - CRITICAL - Components that failed to initialize: ['config_manager', 'llm_coordinator', 'mcp_server']
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - WARNING - Exit source: LifecycleManager.start()
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - WARNING - Exit reason: Failed to start components
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 01:55:40,579 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 02:02:00 ---

/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 02:02:02,093 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 02:02:02,094 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 02:02:02,094 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 02:02:02,095 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 02:02:02,095 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 02:02:02,095 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 02:02:02,096 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 02:02:02,096 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 02:02:02,096 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 02:02:02,096 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 02:02:02,097 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 02:02:02,097 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 02:02:02,097 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745625722.0972428
2025-04-26 02:02:02,098 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 02:02:02,098 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745625722.098556
2025-04-26 02:02:02,098 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=140581296293568, name=watchdog_monitor, is_daemon=True
2025-04-26 02:02:02,099 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 02:02:02,100 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 02:02:02,100 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 02:02:02,101 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 02:02:02,102 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 02:02:02,102 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 02:02:02,102 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 02:02:02,102 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 02:02:02,102 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 02:02:02,102 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 02:02:02,103 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 02:02:02,103 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 02:02:02,103 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 02:02:02,104 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 02:02:02,104 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 02:02:02,105 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 02:02:02,105 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 02:02:02,105 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:02:02,105 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 02:02:02,106 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 02:02:02,107 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 02:02:02,107 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:02:02,107 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 02:02:02,108 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 02:02:02,108 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 02:02:02,108 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 02:02:02,108 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:02:02,108 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:02:02,108 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 02:02:02,109 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:02:02,111 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 02:02:02,112 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 02:02:02,112 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 02:02:02,112 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 02:02:02,113 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 02:02:02,113 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:02:02,113 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:02:02,113 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 02:02:02,113 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 02:02:02,113 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:02:02,113 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 02:02:02,114 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 02:02:02,114 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 02:02:02,114 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 02:02:02,115 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 02:02:02,123 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 02:02:02,124 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 02:02:02,124 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 02:02:02,128 - dbp.mcp_server - INFO - [STANDALONE MODE] Registering MCP resources...
2025-04-26 02:02:02,128 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: documentation
2025-04-26 02:02:02,129 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: code_metadata
2025-04-26 02:02:02,130 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: inconsistencies
2025-04-26 02:02:02,131 - dbp.mcp_server.server_instance - INFO - Registering MCP resource: recommendations
2025-04-26 02:02:02,132 - dbp.mcp_server - INFO - [STANDALONE MODE] Registered 4/4 MCP resources.
2025-04-26 02:02:02,132 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 02:02:02,132 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 02:02:02,132 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 02:02:02,132 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 02:02:02,132 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 02:02:02,132 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:02:02,132 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:02:02,132 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:02:02,133 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 02:02:02,133 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-26 02:02:02,134 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-26 02:02:02,134 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-26 02:02:02,135 - dbp.core.lifecycle.llm_coordinator - INFO - Registering dbp_general_query with MCP server...
2025-04-26 02:02:02,136 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-26 02:02:02,138 - dbp.core.lifecycle.llm_coordinator - INFO - Successfully registered GeneralQueryMCPTool 'dbp_general_query' with MCP server.
2025-04-26 02:02:02,139 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-26 02:02:02,139 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-26 02:02:02,139 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-26 02:02:02,140 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-26 02:02:02,141 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-26 02:02:02,142 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-26 02:02:02,142 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-26 02:02:02,142 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:02:02,143 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-26 02:02:02,143 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-26 02:02:02,144 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 127.0.0.1:6231...
2025-04-26 02:02:02,144 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-26 02:02:02,146 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-26 02:02:02,146 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 127.0.0.1:6231 with 1 worker(s)...
2025-04-26 02:02:02,295 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-26 02:02:02,296 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 02:02:02,296 - dbp.mcp_server - INFO - ======================
2025-04-26 02:02:02,296 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-26 02:02:02,296 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-26 02:02:02,652 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 127.0.0.1:6231
2025-04-26 02:10:38,966 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-26 02:10:38,967 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-26 02:10:38,967 - dbp.core.lifecycle - INFO - Shutting down 3 components
2025-04-26 02:10:38,967 - dbp.core.lifecycle - INFO - Shutting down component 'llm_coordinator'...
2025-04-26 02:10:38,967 - dbp.core.lifecycle.llm_coordinator - INFO - Shutting down component 'llm_coordinator'...
2025-04-26 02:10:38,967 - dbp.core.lifecycle.llm_coordinator.job_manager - INFO - JobManager shutdown initiated. No new jobs will be scheduled.
2025-04-26 02:10:38,967 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Shutting down CoordinatorLLM', 'model_name': 'nova-lite'}
2025-04-26 02:10:38,968 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'CoordinatorLLM shutdown completed'}
2025-04-26 02:10:38,968 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' shut down.
2025-04-26 02:10:38,968 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-26 02:10:38,968 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 02:10:38,968 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 02:10:38,968 - dbp.mcp_server - INFO - [STANDALONE MODE] Stop signal sent successfully.
2025-04-26 02:10:38,969 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-26 02:10:38,969 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-26 02:10:38,969 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 02:10:38,969 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 02:10:38,969 - dbp.core.lifecycle - INFO - All components shut down
2025-04-26 02:10:38,969 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-26 02:10:38,970 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-26 02:10:38,970 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-26 02:10:38,970 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-26 02:10:38,970 - dbp.core.lifecycle - INFO - Application not running, shutdown not needed.
2025-04-26 02:10:38,971 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-26 02:10:38,973 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 02:10:38,973 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 02:10:38,973 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 02:10:39 ---

/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 02:10:40,714 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 02:10:40,715 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 02:10:40,715 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 02:10:40,716 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 02:10:40,716 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 02:10:40,716 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 02:10:40,716 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 02:10:40,716 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 02:10:40,716 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 02:10:40,717 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 02:10:40,717 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 02:10:40,717 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 02:10:40,717 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745626240.717319
2025-04-26 02:10:40,717 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 02:10:40,717 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745626240.7179017
2025-04-26 02:10:40,718 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 02:10:40,718 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139763939129024, name=watchdog_monitor, is_daemon=True
2025-04-26 02:10:40,718 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 02:10:40,718 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 02:10:40,718 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 02:10:40,719 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 02:10:40,720 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 02:10:40,720 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 02:10:40,720 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:10:40,721 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:10:40,721 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 02:10:40,721 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:10:40,723 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 02:10:40,723 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 02:10:40,724 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 02:10:40,724 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 02:10:40,724 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 02:10:40,724 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:10:40,724 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:10:40,724 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:10:40,724 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 02:10:40,724 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' in STANDALONE MODE with minimal dependencies
2025-04-26 02:10:40,724 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 02:10:40,724 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 02:10:40,724 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 02:10:40,724 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 02:10:40,724 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 02:10:40,728 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 02:10:40,728 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 02:10:40,729 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 02:10:40,730 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 02:10:40,730 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 02:10:40,730 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully in STANDALONE MODE.
2025-04-26 02:10:40,730 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 02:10:40,730 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 02:10:40,730 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:10:40,730 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:10:40,730 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 02:10:40,730 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 02:10:40,730 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-26 02:10:40,730 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-26 02:10:40,731 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:10:40,731 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-26 02:10:40,731 - dbp.core.lifecycle.llm_coordinator - INFO - Registering dbp_general_query with MCP server...
2025-04-26 02:10:40,731 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-26 02:10:40,732 - dbp.core.lifecycle.llm_coordinator - INFO - Successfully registered GeneralQueryMCPTool 'dbp_general_query' with MCP server.
2025-04-26 02:10:40,732 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-26 02:10:40,732 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-26 02:10:40,732 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-26 02:10:40,732 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-26 02:10:40,732 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-26 02:10:40,732 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-26 02:10:40,732 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-26 02:10:40,732 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-26 02:10:40,733 - dbp.mcp_server - INFO - [STANDALONE MODE] Starting MCP server...
2025-04-26 02:10:40,733 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server (STANDALONE MODE)' on 127.0.0.1:6231...
2025-04-26 02:10:40,733 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:10:40,733 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server (STANDALONE MODE)' started.
2025-04-26 02:10:40,734 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 127.0.0.1:6231 with 1 worker(s)...
2025-04-26 02:10:40,734 - dbp.mcp_server - INFO - [STANDALONE MODE] Testing HTTP server connectivity...
2025-04-26 02:10:40,800 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-26 02:10:40,800 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 02:10:40,800 - dbp.mcp_server - INFO - ======================
2025-04-26 02:10:40,800 - dbp.mcp_server - INFO - [STANDALONE MODE] MCP server started successfully and verified operational. Server will return error responses for all tool/resource requests.
2025-04-26 02:10:40,800 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-26 02:10:41,236 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 127.0.0.1:6231
2025-04-26 02:26:20,463 - dbp.core.lifecycle - WARNING - Received signal SIGTERM (15). Shutting down...
2025-04-26 02:26:20,463 - dbp.core.lifecycle - INFO - Initiating system shutdown...
2025-04-26 02:26:20,463 - dbp.core.lifecycle - INFO - Shutting down 3 components
2025-04-26 02:26:20,464 - dbp.core.lifecycle - INFO - Shutting down component 'llm_coordinator'...
2025-04-26 02:26:20,464 - dbp.core.lifecycle.llm_coordinator - INFO - Shutting down component 'llm_coordinator'...
2025-04-26 02:26:20,464 - dbp.core.lifecycle.llm_coordinator.job_manager - INFO - JobManager shutdown initiated. No new jobs will be scheduled.
2025-04-26 02:26:20,464 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Shutting down CoordinatorLLM', 'model_name': 'nova-lite'}
2025-04-26 02:26:20,464 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'CoordinatorLLM shutdown completed'}
2025-04-26 02:26:20,464 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' shut down.
2025-04-26 02:26:20,464 - dbp.core.lifecycle - INFO - Shutting down component 'mcp_server'...
2025-04-26 02:26:20,464 - dbp.mcp_server - INFO - [STANDALONE MODE] Shutting down component 'mcp_server'...
2025-04-26 02:26:20,464 - dbp.mcp_server - INFO - [STANDALONE MODE] Signaling server to stop...
2025-04-26 02:26:20,464 - dbp.mcp_server - INFO - [STANDALONE MODE] Stop signal sent successfully.
2025-04-26 02:26:20,464 - dbp.mcp_server - INFO - [STANDALONE MODE] Component 'mcp_server' shut down.
2025-04-26 02:26:20,464 - dbp.core.lifecycle - INFO - Shutting down component 'config_manager'...
2025-04-26 02:26:20,464 - dbp.config_manager - INFO - Shutting down component 'config_manager'...
2025-04-26 02:26:20,464 - dbp.config_manager - INFO - Component 'config_manager' shut down.
2025-04-26 02:26:20,464 - dbp.core.lifecycle - INFO - All components shut down
2025-04-26 02:26:20,464 - dbp.core.lifecycle - INFO - System shutdown complete.
2025-04-26 02:26:20,464 - dbp.mcp_server.__main__ - INFO - Shutting down MCP server...
2025-04-26 02:26:20,465 - dbp.core.watchdog - WARNING - Watchdog already running, not starting another
2025-04-26 02:26:20,465 - dbp.mcp_server.__main__ - INFO - Watchdog reactivated with 20s timeout for shutdown process
2025-04-26 02:26:20,465 - dbp.core.lifecycle - INFO - Application not running, shutdown not needed.
2025-04-26 02:26:20,465 - dbp.mcp_server.__main__ - INFO - Lifecycle manager shutdown complete
2025-04-26 02:26:20,466 - dbp.mcp_server.__main__ - WARNING - Server exit detected
2025-04-26 02:26:20,466 - dbp.mcp_server.__main__ - WARNING - Exit source: Python interpreter shutdown
2025-04-26 02:26:20,466 - dbp.mcp_server.__main__ - WARNING - Exit reason: Process exit via atexit


--- SERVER START ATTEMPT AT 2025-04-26 02:26:20 ---

Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 148, in _get_module_details
  File "<frozen runpy>", line 112, in _get_module_details
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__init__.py", line 64, in <module>
    from .server import MCPServer # Placeholder server class
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/server.py", line 79, in <module>
    from src.dbp.mcp_server.mcp.session import SessionManager, MCPSession, create_anonymous_session
  File "/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__init__.py", line 65, in <module>
    from .component import MCPServerComponent, ComponentNotInitializedError
ImportError: cannot import name 'ComponentNotInitializedError' from 'src.dbp.mcp_server.component' (/home/jcjorel/cline-best-practices/src/dbp/mcp_server/component.py)


--- SERVER START ATTEMPT AT 2025-04-26 02:32:47 ---

2025-04-26 02:32:47,762 - root - DEBUG - Application logging initialized at level debug with consistent formatting
2025-04-26 02:32:47,762 - dbp.mcp_server.__main__ - DEBUG - Using watchdog timeout from configuration: 20s
2025-04-26 02:32:47,762 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 15
2025-04-26 02:32:47,763 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for signal 2
2025-04-26 02:32:47,763 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 1
2025-04-26 02:32:47,763 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 3
2025-04-26 02:32:47,763 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 6
2025-04-26 02:32:47,764 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 10
2025-04-26 02:32:47,764 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for platform signal 12
2025-04-26 02:32:47,764 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for unhandled exceptions
2025-04-26 02:32:47,764 - dbp.mcp_server.__main__ - DEBUG - Registered exit handler for normal process termination
2025-04-26 02:32:47,764 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initializing watchdog with 20s timeout
2025-04-26 02:32:47,764 - dbp.core.watchdog - INFO - WATCHDOG SETUP: Initial timestamp: 1745627567.7649052
2025-04-26 02:32:47,765 - dbp.core.watchdog - INFO - WATCHDOG THREAD STARTED: with 20 second timeout
2025-04-26 02:32:47,765 - dbp.core.watchdog - DEBUG - Process keepalive updated at 1745627567.7655325
2025-04-26 02:32:47,765 - dbp.core.watchdog - DEBUG - WATCHDOG THREAD INFO: id=139637773366976, name=watchdog_monitor, is_daemon=True
2025-04-26 02:32:47,767 - dbp.mcp_server.__main__ - INFO - Starting MCP server on localhost:6231
2025-04-26 02:32:47,768 - dbp.core.watchdog - DEBUG - WATCHDOG LOOP 1: Waiting for activity
2025-04-26 02:32:47,768 - dbp.mcp_server.__main__ - DEBUG - Arguments: Namespace(host='localhost', port=6231, log_level='debug', log_file=None, startup_timeout=180, watchdog_timeout=20)
2025-04-26 02:32:47,768 - dbp.mcp_server.__main__ - DEBUG - Successfully imported MCPServerComponent
2025-04-26 02:32:47,768 - dbp.mcp_server.__main__ - DEBUG - Environment: {'Python version': '3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0]', 'Working directory': '/home/jcjorel/cline-best-practices', 'Module path': '/home/jcjorel/cline-best-practices/src/dbp/mcp_server/__main__.py', 'PATH': '/home/jcjorel/cline-best-practices/venv/bin:/home/jcjorel/.vscode-server/bin/17baf841131aa23349f217ca7c570c76ee87b957/bin/remote-cli:/home/jcjorel/.local/bin:/home/jcjorel/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/java8path:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft/jdk-11.0.16.101-hotspot/bin:/mnt/c/Program Files/itacsvc:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/Microchip/xc16/v2.10/bin:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin/:/mnt/c/Program Files/IVI Foundation/VISA/Win64/Bin/:/mnt/c/Program Files (x86)/IVI Foundation/VISA/WinNT/Bin:/mnt/c/Program Files/PuTTY/:/mnt/c/Program Files (x86)/ACMEGuardian/:/mnt/c/FPC/3.2.2/bin/i386-Win32:/mnt/c/Program Files (x86)/Quarantine/:/mnt/c/Program Files/Oracle/VirtualBox:/mnt/c/Program Files/GitDefender/bin:/mnt/c/Program Files/Amazon/FOPAzureADMAnagementApp/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/Scripts/:/mnt/c/Users/jcjorel/AppData/Local/Programs/Python/Python313/:/mnt/c/Wincupl/WINCUPL/EXE:/mnt/c/Wincupl/WINCUPL/FITTERS:/mnt/c/Users/jcjorel/AppData/Local/Programs/Git/cmd:/mnt/c/Users/jcjorel/AppData/Local/GitDefender/bin:/mnt/c/Users/jcjorel/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/jcjorel/.dotnet/tools:/mnt/c/Users/jcjorel/AppData/Local/Microsoft/WindowsApps:/snap/bin:/usr/local/bin:/home/jcjorel/.vscode-server/extensions/ms-python.debugpy-2025.6.0-linux-x64/bundled/scripts/noConfigScripts:/home/jcjorel/.vscode-server/data/User/globalStorage/github.copilot-chat/debugCommand:/usr/local/bin', 'PYTHONPATH': ''}
2025-04-26 02:32:47,769 - dbp.mcp_server.__main__ - DEBUG - FastAPI version: 0.115.12
2025-04-26 02:32:47,769 - dbp.mcp_server.__main__ - DEBUG - Uvicorn available: uvicorn
2025-04-26 02:32:47,769 - dbp.mcp_server.__main__ - INFO - Checking component dependencies and imports...
2025-04-26 02:32:47,769 - dbp.mcp_server.__main__ - INFO - FastAPI version: 0.115.12
2025-04-26 02:32:47,769 - dbp.mcp_server.__main__ - INFO - Uvicorn available: uvicorn
2025-04-26 02:32:47,770 - dbp.mcp_server.__main__ - DEBUG - Successfully imported tool classes
/home/jcjorel/cline-best-practices/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-04-26 02:32:48,240 - dbp.mcp_server.__main__ - DEBUG - Successfully imported resource classes
2025-04-26 02:32:48,241 - dbp.mcp_server.__main__ - INFO - Starting MCP server using LifecycleManager
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Loading application configuration...
2025-04-26 02:32:48,241 - dbp.config.config_manager - WARNING - ConfigurationManager already initialized. Skipping re-initialization.
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Registering components with registry...
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Using component enablement configuration
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Registered component factory: 'config_manager' with dependencies: []
2025-04-26 02:32:48,241 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Component 'file_access' disabled by configuration - skipping registration
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Component 'database' disabled by configuration - skipping registration
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Component 'change_queue' disabled by configuration - skipping registration
2025-04-26 02:32:48,241 - dbp.core.lifecycle - INFO - Component 'fs_monitor' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'filter' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'memory_cache' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'metadata_extraction' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'doc_relationships' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'consistency_analysis' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'recommendation_generator' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component 'scheduler' disabled by configuration - skipping registration
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Registered component class: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Registered component class: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Registered 3 components with registry
2025-04-26 02:32:48,242 - dbp.core.registry - INFO - Registering 3 components with system
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Registering component: 'config_manager' with dependencies: []
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Registering component: 'llm_coordinator' with dependencies: ['config_manager', 'mcp_server']
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Registering component: 'mcp_server' with dependencies: ['config_manager']
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Starting Documentation-Based Programming system...
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Initializing 3 components
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - All component dependencies validated successfully
2025-04-26 02:32:48,242 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Component initialization order: config_manager, mcp_server, llm_coordinator
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Using component enablement configuration: config_manager=True file_access=False database=False fs_monitor=False filter=False change_queue=False memory_cache=False consistency_analysis=False doc_relationships=False recommendation_generator=False scheduler=False metadata_extraction=False llm_coordinator=True mcp_server=True
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Initializing component 'config_manager'...
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Initializing component 'config_manager' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:32:48,242 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:32:48,242 - dbp.config_manager - INFO - Initializing component 'config_manager'...
2025-04-26 02:32:48,243 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:32:48,244 - dbp.config_manager - INFO - Setting project.root_path to Git root: /home/jcjorel/cline-best-practices
2025-04-26 02:32:48,245 - dbp.config.config_manager - INFO - Configuration value set and validated: project.root_path = /home/jcjorel/cline-best-practices
2025-04-26 02:32:48,245 - dbp.config_manager - INFO - Component 'config_manager' initialized successfully.
2025-04-26 02:32:48,245 - dbp.core.lifecycle - INFO - Component 'config_manager' initialized successfully
2025-04-26 02:32:48,245 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server'...
2025-04-26 02:32:48,245 - dbp.core.lifecycle - INFO - Initializing component 'mcp_server' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:32:48,245 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:32:48,245 - dbp.core.lifecycle - INFO - Resolved 1 dependencies for component 'mcp_server'
2025-04-26 02:32:48,245 - dbp.mcp_server - WARNING - Initializing component 'mcp_server' with minimal dependencies
2025-04-26 02:32:48,245 - dbp.mcp_server - INFO - Server initialization status: config - Loading configuration
2025-04-26 02:32:48,245 - dbp.mcp_server.adapter - WARNING - SystemComponentAdapter initialized in STANDALONE MODE - returning mock components only
2025-04-26 02:32:48,245 - dbp.mcp_server - INFO - Server initialization status: components - Creating MCP server components
2025-04-26 02:32:48,245 - dbp.mcp_server - INFO - Server initialization status: directories - Creating required directories
2025-04-26 02:32:48,245 - dbp.mcp_server - INFO - Ensuring required directories exist using base directory: .dbp
2025-04-26 02:32:48,246 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:32:48,251 - dbp.mcp_server - INFO - Required directories created or verified successfully
2025-04-26 02:32:48,251 - dbp.mcp_server - INFO - Server initialization status: server - Creating MCP server instance
2025-04-26 02:32:48,251 - dbp.mcp_server.server_instance - INFO - Creating FastAPI application...
2025-04-26 02:32:48,252 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 02:32:48,252 - dbp.mcp_server - INFO - Server initialization status: ready - MCP server initialization complete
2025-04-26 02:32:48,252 - dbp.mcp_server - INFO - Component 'mcp_server' initialized successfully.
2025-04-26 02:32:48,252 - dbp.core.lifecycle - INFO - Component 'mcp_server' initialized successfully
2025-04-26 02:32:48,252 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator'...
2025-04-26 02:32:48,252 - dbp.core.lifecycle - INFO - Initializing component 'llm_coordinator' with context type: <class 'dbp.core.component.InitializationContext'>
2025-04-26 02:32:48,252 - dbp.core.lifecycle - INFO - Context attributes: config=<class 'dbp.config.component.ConfigManagerComponent'>, logger=<class 'logging.Logger'>
2025-04-26 02:32:48,252 - dbp.core.lifecycle - INFO - Resolved 2 dependencies for component 'llm_coordinator'
2025-04-26 02:32:48,252 - dbp.core.lifecycle.llm_coordinator - INFO - Initializing component 'llm_coordinator'...
2025-04-26 02:32:48,252 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Getting Bedrock client manager instance', 'region': 'us-east-1', 'component': 'CoordinatorLLM'}
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.coordinator_llm.bedrock - INFO - {'message': 'Bedrock client manager initialized', 'default_region': 'us-east-1', 'prompt_manager_configured': True}
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.coordinator_llm - INFO - {'message': 'Bedrock client manager instance retrieved successfully', 'component': 'CoordinatorLLM'}
2025-04-26 02:32:48,253 - dbp.llm_coordinator.component - WARNING - Using Placeholder InternalToolExecutionEngine
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_context' -> execute_codebase_context_tool
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_codebase_changelog_context' -> execute_codebase_changelog_tool
2025-04-26 02:32:48,253 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_context' -> execute_documentation_context_tool
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_documentation_changelog_context' -> execute_documentation_changelog_tool
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator.tool_registry - INFO - Internal tool registered: 'coordinator_get_expert_architect_advice' -> execute_expert_architect_advice_tool
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator - INFO - Registered 5 internal tools.
2025-04-26 02:32:48,253 - dbp.core.lifecycle.llm_coordinator - INFO - Registering dbp_general_query with MCP server...
2025-04-26 02:32:48,253 - dbp.mcp_server.server_instance - INFO - Registering MCP tool: dbp_general_query
2025-04-26 02:32:48,254 - dbp.core.lifecycle.llm_coordinator - INFO - Successfully registered GeneralQueryMCPTool 'dbp_general_query' with MCP server.
2025-04-26 02:32:48,254 - dbp.core.lifecycle.llm_coordinator - INFO - Component 'llm_coordinator' initialized successfully.
2025-04-26 02:32:48,254 - dbp.core.lifecycle - INFO - Component 'llm_coordinator' initialized successfully
2025-04-26 02:32:48,254 - dbp.core.lifecycle - INFO - All components initialized successfully
2025-04-26 02:32:48,254 - dbp.core.lifecycle - INFO - System startup complete. Application is running.
2025-04-26 02:32:48,254 - dbp.mcp_server.__main__ - INFO - All components started successfully
2025-04-26 02:32:48,254 - dbp.mcp_server.__main__ - INFO - Component initialization completed successfully
2025-04-26 02:32:48,254 - dbp.mcp_server.__main__ - INFO - Watchdog disabled after successful component initialization
2025-04-26 02:32:48,254 - dbp.mcp_server.__main__ - INFO - Starting MCP server...
2025-04-26 02:32:48,254 - dbp.mcp_server - INFO - Starting MCP server...
2025-04-26 02:32:48,254 - dbp.mcp_server.server_instance - INFO - Starting MCP server 'dbp-mcp-server' on 127.0.0.1:6231...
2025-04-26 02:32:48,254 - dbp.core.watchdog - INFO - WATCHDOG CHECK: Time since last keepalive: 0.0s (threshold: 20s)
2025-04-26 02:32:48,255 - dbp.mcp_server.server_instance - INFO - MCP Server 'dbp-mcp-server' started.
2025-04-26 02:32:48,256 - dbp.mcp_server.server_instance - INFO - Starting HTTP server subsystem on 127.0.0.1:6231 with 1 worker(s)...
2025-04-26 02:32:48,256 - dbp.mcp_server - INFO - Testing HTTP server connectivity...
2025-04-26 02:32:48,325 - dbp.mcp_server - INFO - === MCP SERVER READY ===
2025-04-26 02:32:48,325 - dbp.mcp_server - INFO - MCP server is now ready to serve HTTP requests on 127.0.0.1:6231
2025-04-26 02:32:48,325 - dbp.mcp_server - INFO - ======================
2025-04-26 02:32:48,325 - dbp.mcp_server - INFO - MCP server started successfully and verified operational. Server will return error responses for externally requested tools/resources.
2025-04-26 02:32:48,325 - dbp.mcp_server - INFO - Waiting for stop signal. Call stop_server() to terminate.
2025-04-26 02:32:48,759 - dbp.mcp_server.server_instance - INFO - HTTP server subsystem successfully started and is accepting connections on 127.0.0.1:6231
